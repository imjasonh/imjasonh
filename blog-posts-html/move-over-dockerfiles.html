<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">Move over, Dockerfiles! The new way to craft containers</title><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="Creating Docker images can sometimes be a pain. Here are alternatives for crafting containers, like ko, Bazel, Nix, and apko, and their strengths and weaknesses" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta property="og:title" content="Move over, Dockerfiles! The new way to craft containers" data-next-head=""/><meta property="og:description" content="Creating Docker images can sometimes be a pain. Here are alternatives for crafting containers, like ko, Bazel, Nix, and apko, and their strengths and weaknesses" data-next-head=""/><meta property="og:url" content="https://www.chainguard.dev/unchained/move-over-dockerfiles-the-new-way-to-craft-containers" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:image" content="https://images.ctfassets.net/l47ir7rfykkn/1HRZvzz21dgG7p31sWBWl6/8415ace0b67e3e44d8cabf8e409ba1cd/Blog_Main_Dark.png" data-next-head=""/><meta property="og:image:alt" content="Image with text &quot;Chainguard&quot; and octopus logo on dark purple gradient background." data-next-head=""/><meta property="og:image:width" content="2944" data-next-head=""/><meta property="og:image:height" content="1968" data-next-head=""/><link rel="canonical" href="https://www.chainguard.dev/unchained/move-over-dockerfiles-the-new-way-to-craft-containers" data-next-head=""/><meta name="keywords" content="dockerfiles, chainguard images, vulnerability management" data-next-head=""/><link rel="preload" href="/_next/static/media/155cae559bbd1a77-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/4de1fea1a954a5b6-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/6d664cce900333ee-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/fc727f226c737876-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/806de4d605d3ad01-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/75dc86395c24eff6-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/61c4cc1823e8fc15-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/83fbec9f5e71a641-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/2c0812fd07b820c0-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/2db5933ce2ad15a5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2db5933ce2ad15a5.css" data-n-g=""/><link rel="preload" href="/_next/static/css/7f6bd37aab40623f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7f6bd37aab40623f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-a2ac7dcd135e8ca1.js" defer=""></script><script src="/_next/static/chunks/framework-c5cfcc96a94eae8a.js" defer=""></script><script src="/_next/static/chunks/main-cd1ab60d75b9146e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08c39a8b21484b0f.js" defer=""></script><script src="/_next/static/chunks/451-628afc475984b260.js" defer=""></script><script src="/_next/static/chunks/6855-0088218eb8e0961e.js" defer=""></script><script src="/_next/static/chunks/9183-323e600237619082.js" defer=""></script><script src="/_next/static/chunks/3150-d3ca694e0c4a3975.js" defer=""></script><script src="/_next/static/chunks/4246-ba80e9174ad0a58b.js" defer=""></script><script src="/_next/static/chunks/860-77e90e4d53bb68fd.js" defer=""></script><script src="/_next/static/chunks/pages/unchained/%5Bslug%5D-94970489b45f778b.js" defer=""></script><script src="/_next/static/2MPQcdTEl5LZKs4rMvHtg/_buildManifest.js" defer=""></script><script src="/_next/static/2MPQcdTEl5LZKs4rMvHtg/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>((e,i,s,u,m,a,l,h)=>{let d=document.documentElement,w=["light","dark"];function p(n){(Array.isArray(e)?e:[e]).forEach(y=>{let k=y==="class",S=k&&a?m.map(f=>a[f]||f):m;k?(d.classList.remove(...S),d.classList.add(a&&a[n]?a[n]:n)):d.setAttribute(y,n)}),R(n)}function R(n){h&&w.includes(n)&&(d.style.colorScheme=n)}function c(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(u)p(u);else try{let n=localStorage.getItem(i)||s,y=l&&n==="system"?c():n;p(y)}catch(n){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div class="bg-gradient-white-to-gray dark:bg-gradient-dark-purple-to-pink relative overflow-clip before:bg-ink-trails before:pointer-events-none before:absolute before:inset-0 before:h-[7400px] before:bg-cover before:bg-top before:opacity-[.15] before:mix-blend-multiply before:content-[&#x27;&#x27;] dark:before:opacity-[.6] __variable_2aa3d3 __variable_e8b655 __variable_45fd73 __variable_72a351 __variable_1e162f __variable_2cd8c2 font-sans text-base text-primary-dark-purple dark:text-primary-white"><header class="sticky left-0 right-0 top-0 z-[22] bg-white"><div class="flex"><div class="max-w-section justify-between relative mx-auto flex w-full items-center py-[16px] lg:w-[85%]"><div class="flex pl-[18px] larger:pl-0"><div class="logo-wrapper mr-[8px] flex max-w-[140px] items-center xl:mr-[48px] xl:max-w-[224px]"><a class="h-[21.35px] w-[132px]" href="/"><svg class="h-auto w-full" width="1051" height="170" viewBox="0 0 1051 170" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M142.381 93.4236C143.741 88.7319 144.48 83.5906 144.48 77.9985C144.48 43.0218 115.557 3.65353 86.6691 3.65353C57.7816 3.65353 28.8578 43.0218 28.8578 77.9985C28.8578 85.6245 30.2328 92.4122 32.6826 98.3645L15.3182 97.3881C8.24572 96.9904 1.72988 102.033 2.83296 109.03C3.2608 111.744 4.07615 114.522 5.53233 116.921C0.616539 120.379 -1.39152 126.736 2.59162 131.718C6.59018 136.719 12.4611 141.327 20.5199 141.327C29.2607 141.327 34.5212 139.068 37.7159 136.231C37.9491 137.47 38.4301 138.69 39.1895 139.843C43.1126 145.799 49.61 152.346 59.2157 152.346C75.5561 152.346 77.3785 142.083 78.293 136.933C78.3645 136.53 78.4305 136.158 78.4974 135.825L89.4171 130.364L100.337 135.825C100.404 136.158 100.47 136.529 100.541 136.932L100.541 136.933C101.456 142.083 103.278 152.346 119.619 152.346C129.224 152.346 135.722 145.799 139.645 139.843C139.799 139.609 139.942 139.372 140.073 139.132C143.152 140.463 147.227 141.327 152.633 141.327C160.692 141.327 166.563 136.719 170.562 131.718C175.459 125.592 171.299 117.389 163.813 115.05L161.34 114.277C168.603 110.512 169.672 103.413 168.894 97.1917C168.015 90.1624 160.357 87.1238 153.672 89.4665L142.381 93.4236ZM89.4275 130.263C89.4211 130.263 89.4146 130.263 89.4081 130.263L89.4171 130.268L89.4275 130.263Z" fill="#14003D"></path><path d="M273.444 136.871C240.27 136.871 219.058 115.34 219.058 77.3815C219.058 41.4966 242.981 19.4871 274.56 19.4871C301.833 19.4871 321.45 35.117 324.321 61.5921H302.63C300.557 47.0787 290.988 37.1904 274.56 37.1904C254.784 37.1904 240.589 52.3418 240.589 77.3815C240.589 103.378 254.624 119.168 274.082 119.168C290.669 119.168 301.673 108.482 303.906 93.6494H324.799C322.088 119.487 303.428 136.871 273.444 136.871ZM340.007 134V22.3579H359.464V59.6783C359.464 61.9111 359.305 64.3035 358.826 67.3337C363.132 59.5188 370.469 53.6177 382.75 53.6177C399.974 53.6177 410.182 65.7389 410.182 84.8775V134H390.724V87.7483C390.724 76.2651 385.142 69.0881 376.051 69.0881C366.482 69.0881 359.464 77.541 359.464 88.3862V134H340.007ZM452.055 136.871C438.498 136.871 425.261 127.939 425.261 112.629C425.261 95.0848 438.817 89.0242 455.564 86.7914L466.728 85.356C473.107 84.5585 475.34 82.1662 475.34 78.3385C475.34 72.9158 470.875 68.1312 462.581 68.1312C453.49 68.1312 447.749 73.2348 446.951 81.3687H426.856C428.132 65.1009 441.369 53.6177 461.465 53.6177C485.228 53.6177 494.798 66.3768 494.798 88.2268V134H476.776V130.81C476.776 128.258 477.095 125.866 477.573 123.314C473.426 130.97 465.452 136.871 452.055 136.871ZM457.318 122.517C467.685 122.517 475.978 114.861 475.978 103.857V95.4037C474.224 96.9986 471.512 97.7961 466.728 98.753L460.348 100.029C451.257 101.783 445.037 104.814 445.037 111.831C445.037 118.689 450.46 122.517 457.318 122.517ZM513.824 134V56.1695H533.282V134H513.824ZM513.346 44.3674V23.9528H533.601V44.3674H513.346ZM553.385 134V56.1695H572.843V59.6783C572.843 61.9111 572.683 64.3035 572.205 67.3337C576.511 59.5188 583.847 53.6177 596.128 53.6177C613.353 53.6177 623.56 65.7389 623.56 84.8775V134H604.102V87.7483C604.102 76.2651 598.52 69.0881 589.429 69.0881C579.86 69.0881 572.843 77.541 572.843 88.3862V134H553.385ZM677.554 169.406C654.588 169.406 641.51 157.126 641.51 139.423H661.287C661.605 148.673 667.507 154.096 678.033 154.096C688.24 154.096 696.852 148.035 696.852 136.392V127.939C696.852 124.431 697.012 121.241 697.49 118.211C692.865 125.228 685.369 131.129 673.248 131.129C652.993 131.129 638.32 116.935 638.32 92.3735C638.32 68.1312 655.226 53.6177 672.291 53.6177C686.007 53.6177 692.865 59.1998 697.49 67.3337C697.012 64.6224 696.852 62.5491 696.852 59.6783V56.1695H716.31V131.608C716.31 157.126 700.521 169.406 677.554 169.406ZM678.192 115.659C689.675 115.659 697.969 105.93 697.969 92.3735C697.969 78.8169 689.675 69.0881 678.192 69.0881C666.39 69.0881 658.097 78.8169 658.097 92.3735C658.097 105.93 666.39 115.659 678.192 115.659ZM763.349 136.871C747.719 136.871 735.439 126.185 735.439 105.611V56.1695H755.056V102.581C755.056 113.426 759.841 121.241 769.25 121.241C779.139 121.241 786.156 113.904 786.156 102.421V56.1695H805.614V134H786.316V130.81C786.316 128.418 786.635 125.707 787.113 123.314C783.126 130.81 776.268 136.871 763.349 136.871ZM848.284 136.871C834.728 136.871 821.49 127.939 821.49 112.629C821.49 95.0848 835.047 89.0242 851.793 86.7914L862.957 85.356C869.337 84.5585 871.57 82.1662 871.57 78.3385C871.57 72.9158 867.104 68.1312 858.811 68.1312C849.72 68.1312 843.978 73.2348 843.181 81.3687H823.085C824.361 65.1009 837.599 53.6177 857.694 53.6177C881.458 53.6177 891.027 66.3768 891.027 88.2268V134H873.005V130.81C873.005 128.258 873.324 125.866 873.803 123.314C869.656 130.97 861.682 136.871 848.284 136.871ZM853.548 122.517C863.914 122.517 872.208 114.861 872.208 103.857V95.4037C870.453 96.9986 867.742 97.7961 862.957 98.753L856.578 100.029C847.487 101.783 841.267 104.814 841.267 111.831C841.267 118.689 846.69 122.517 853.548 122.517ZM910.054 134V56.1695H929.512V62.0706C929.512 64.9414 929.352 67.3337 928.874 70.2045C933.02 61.4327 940.038 53.6177 951.68 53.6177C953.275 53.6177 954.551 53.7772 955.827 54.0962V72.9158C954.551 72.5969 952.797 72.2779 950.245 72.2779C938.283 72.2779 929.512 78.3385 929.512 95.4037V134H910.054ZM997.069 136.871C976.495 136.871 961.503 122.836 961.503 95.4037C961.503 67.4932 979.206 53.6177 997.388 53.6177C1009.51 53.6177 1017 59.8378 1021.47 67.3337C1020.83 64.4629 1020.83 62.0706 1020.83 59.6783V22.3579H1040.29V134H1020.83V130.81C1020.83 128.099 1020.83 126.026 1021.47 123.314C1018.44 129.056 1011.42 136.871 997.069 136.871ZM1001.69 121.56C1013.34 121.56 1021.95 110.874 1021.95 95.2443C1021.95 79.2954 1013.34 69.0881 1001.69 69.0881C990.051 69.0881 981.279 79.7739 981.279 95.2443C981.279 111.353 990.051 121.56 1001.69 121.56Z" fill="#14003D"></path></svg></a></div><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="relative z-10 max-w-max flex-1 items-center justify-center hidden larger:flex"><div style="position:relative"><ul data-orientation="horizontal" class="group/navigation flex flex-1 list-none items-center justify-center" dir="ltr"><li><button id="radix-:Ril6:-trigger-Products" data-state="closed" aria-expanded="false" aria-controls="radix-:Ril6:-content-Products" class="group/navigation w-max transition-colors focus:outline-none disabled:pointer-events-none disabled:opacity-50 group/navigation mr-[10px] flex cursor-pointer items-center justify-center rounded-[100px] bg-transparent px-[16px] py-[12px] text-sm font-normal text-[#14003D] hover:bg-[#F3F2FF] hover:text-[#14003D] focus:bg-[#F3F2FF] focus:text-[#14003D] data-[state=open]:bg-[#F3F2FF] data-[state=open]:text-[#14003D] data-[state=open]:hover:bg-[#F3F2FF] data-[state=open]:focus:bg-[#F3F2FF]" data-radix-collection-item=""><span class="mr-1 inline">Products</span><span class="relative ml-1 flex items-center justify-center transition duration-200 group-data-[state=open]:rotate-180"><svg xmlns="http://www.w3.org/2000/svg" width="11" height="7" viewBox="0 0 11 7" fill="none"><path d="M1.03418 0.628662L5.0795 6.09949C5.17944 6.23464 5.3816 6.23464 5.48153 6.09949L9.52686 0.628662" stroke="#14003D" stroke-width="1.25" stroke-linecap="round"></path></svg></span></button></li><li><button id="radix-:Ril6:-trigger-Solutions" data-state="closed" aria-expanded="false" aria-controls="radix-:Ril6:-content-Solutions" class="group/navigation w-max transition-colors focus:outline-none disabled:pointer-events-none disabled:opacity-50 group/navigation mr-[10px] flex cursor-pointer items-center justify-center rounded-[100px] bg-transparent px-[16px] py-[12px] text-sm font-normal text-[#14003D] hover:bg-[#F3F2FF] hover:text-[#14003D] focus:bg-[#F3F2FF] focus:text-[#14003D] data-[state=open]:bg-[#F3F2FF] data-[state=open]:text-[#14003D] data-[state=open]:hover:bg-[#F3F2FF] data-[state=open]:focus:bg-[#F3F2FF]" data-radix-collection-item=""><span class="mr-1 inline">Solutions</span><span class="relative ml-1 flex items-center justify-center transition duration-200 group-data-[state=open]:rotate-180"><svg xmlns="http://www.w3.org/2000/svg" width="11" height="7" viewBox="0 0 11 7" fill="none"><path d="M1.03418 0.628662L5.0795 6.09949C5.17944 6.23464 5.3816 6.23464 5.48153 6.09949L9.52686 0.628662" stroke="#14003D" stroke-width="1.25" stroke-linecap="round"></path></svg></span></button></li><li><button id="radix-:Ril6:-trigger-Customers" data-state="closed" aria-expanded="false" aria-controls="radix-:Ril6:-content-Customers" class="group/navigation w-max transition-colors focus:outline-none disabled:pointer-events-none disabled:opacity-50 group/navigation mr-[10px] flex cursor-pointer items-center justify-center rounded-[100px] bg-transparent px-[16px] py-[12px] text-sm font-normal text-[#14003D] hover:bg-[#F3F2FF] hover:text-[#14003D] focus:bg-[#F3F2FF] focus:text-[#14003D] data-[state=open]:bg-[#F3F2FF] data-[state=open]:text-[#14003D] data-[state=open]:hover:bg-[#F3F2FF] data-[state=open]:focus:bg-[#F3F2FF]" data-radix-collection-item=""><span class="mr-1 inline">Customers</span><span class="relative ml-1 flex items-center justify-center transition duration-200 group-data-[state=open]:rotate-180"><svg xmlns="http://www.w3.org/2000/svg" width="11" height="7" viewBox="0 0 11 7" fill="none"><path d="M1.03418 0.628662L5.0795 6.09949C5.17944 6.23464 5.3816 6.23464 5.48153 6.09949L9.52686 0.628662" stroke="#14003D" stroke-width="1.25" stroke-linecap="round"></path></svg></span></button></li><li><button id="radix-:Ril6:-trigger-Resources" data-state="closed" aria-expanded="false" aria-controls="radix-:Ril6:-content-Resources" class="group/navigation w-max transition-colors focus:outline-none disabled:pointer-events-none disabled:opacity-50 group/navigation mr-[10px] flex cursor-pointer items-center justify-center rounded-[100px] bg-transparent px-[16px] py-[12px] text-sm font-normal text-[#14003D] hover:bg-[#F3F2FF] hover:text-[#14003D] focus:bg-[#F3F2FF] focus:text-[#14003D] data-[state=open]:bg-[#F3F2FF] data-[state=open]:text-[#14003D] data-[state=open]:hover:bg-[#F3F2FF] data-[state=open]:focus:bg-[#F3F2FF]" data-radix-collection-item=""><span class="mr-1 inline">Resources</span><span class="relative ml-1 flex items-center justify-center transition duration-200 group-data-[state=open]:rotate-180"><svg xmlns="http://www.w3.org/2000/svg" width="11" height="7" viewBox="0 0 11 7" fill="none"><path d="M1.03418 0.628662L5.0795 6.09949C5.17944 6.23464 5.3816 6.23464 5.48153 6.09949L9.52686 0.628662" stroke="#14003D" stroke-width="1.25" stroke-linecap="round"></path></svg></span></button></li><li><button id="radix-:Ril6:-trigger-Company" data-state="closed" aria-expanded="false" aria-controls="radix-:Ril6:-content-Company" class="group/navigation w-max transition-colors focus:outline-none disabled:pointer-events-none disabled:opacity-50 group/navigation mr-[10px] flex cursor-pointer items-center justify-center rounded-[100px] bg-transparent px-[16px] py-[12px] text-sm font-normal text-[#14003D] hover:bg-[#F3F2FF] hover:text-[#14003D] focus:bg-[#F3F2FF] focus:text-[#14003D] data-[state=open]:bg-[#F3F2FF] data-[state=open]:text-[#14003D] data-[state=open]:hover:bg-[#F3F2FF] data-[state=open]:focus:bg-[#F3F2FF]" data-radix-collection-item=""><span class="mr-1 inline">Company</span><span class="relative ml-1 flex items-center justify-center transition duration-200 group-data-[state=open]:rotate-180"><svg xmlns="http://www.w3.org/2000/svg" width="11" height="7" viewBox="0 0 11 7" fill="none"><path d="M1.03418 0.628662L5.0795 6.09949C5.17944 6.23464 5.3816 6.23464 5.48153 6.09949L9.52686 0.628662" stroke="#14003D" stroke-width="1.25" stroke-linecap="round"></path></svg></span></button></li><li><a class="mr-[10px] flex cursor-pointer items-center justify-center rounded-[100px] bg-transparent px-[16px] py-[12px] text-sm font-normal text-[#14003D] hover:bg-[#F3F2FF] hover:text-[#14003D] focus:bg-[#F3F2FF] focus:text-[#14003D] data-[state=open]:bg-[#F3F2FF] data-[state=open]:text-[#14003D] data-[state=open]:hover:bg-[#F3F2FF] data-[state=open]:focus:bg-[#F3F2FF]" href="/pricing">Pricing</a></li></ul></div></nav></div><div class="flex items-center"><div class="flex cursor-pointer items-center"><span class="flex"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="26" viewBox="0 0 25 26" fill="none"><path d="M12.2573 0.749996C9.83451 0.749996 7.46609 1.46844 5.4516 2.81449C3.43709 4.16054 1.86698 6.07373 0.939808 8.31212C0.0126343 10.5505 -0.229962 13.0135 0.242713 15.3898C0.715376 17.7661 1.88208 19.9489 3.59527 21.662C5.30846 23.3753 7.49121 24.5419 9.86748 25.0146C12.2438 25.4873 14.7069 25.2447 16.9452 24.3175C19.1836 23.3903 21.0968 21.8202 22.4428 19.8057C23.7889 17.7913 24.5073 15.4228 24.5073 13C24.5073 9.7511 23.2168 6.63526 20.9194 4.33794C18.6221 2.04062 15.5063 0.749996 12.2573 0.749996ZM22.7573 12.125H17.5073C17.4052 8.90244 16.5704 5.7455 15.0661 2.89375C17.1385 3.46065 18.9872 4.64973 20.3626 6.30049C21.738 7.95125 22.5738 9.98421 22.7573 12.125ZM12.2573 23.5C12.0621 23.5131 11.8663 23.5131 11.6711 23.5C9.85833 20.6091 8.85228 17.2859 8.75733 13.875H15.7573C15.6703 17.2834 14.6734 20.6065 12.8698 23.5C12.6659 23.5143 12.4613 23.5143 12.2573 23.5ZM8.75733 12.125C8.84438 8.71659 9.84132 5.39347 11.6448 2.5C12.0345 2.45621 12.4278 2.45621 12.8173 2.5C14.6393 5.3882 15.6545 8.71168 15.7573 12.125H8.75733ZM9.42234 2.89375C7.92722 5.74768 7.10136 8.90452 7.00733 12.125H1.75733C1.94082 9.98421 2.77665 7.95125 4.15203 6.30049C5.5274 4.64973 7.37609 3.46065 9.44858 2.89375H9.42234ZM1.80108 13.875H7.05109C7.14239 17.0948 7.96525 20.2515 9.45734 23.1062C7.39133 22.5333 5.55026 21.3415 4.18157 19.6913C2.81287 18.041 1.98215 16.0113 1.80108 13.875ZM15.0661 23.1062C16.5704 20.2544 17.4052 17.0976 17.5073 13.875H22.7573C22.5738 16.0158 21.738 18.0487 20.3626 19.6995C18.9872 21.3503 17.1385 22.5394 15.0661 23.1062Z" fill="#14003D"></path></svg></span><span class="ml-[8px] mr-[15px] flex larger:mr-[30px] null"><svg xmlns="http://www.w3.org/2000/svg" width="11" height="8" viewBox="0 0 11 8" fill="none"><path d="M1.50781 1.12866L5.55314 6.59949C5.65307 6.73464 5.85523 6.73464 5.95516 6.59949L10.0005 1.12866" stroke="#14003D" stroke-width="1.25" stroke-linecap="round"></path></svg></span><div class="absolute z-[100] flex h-[80px] w-[70px]" style="display:none"><div class="absolute left-[-50px] top-[68px] flex w-[155px] flex-wrap items-start rounded-[10px] bg-white px-[40px] py-[20px] shadow-[0px_4px_40px_0px_rgba(0,_0,_0,_0.1)] larger:left-auto"><div class="text-primary-dark-purple-hex mb-[16px] flex w-full text-[14px] uppercase text-[#14003D]">language</div><ul><li><a href="/unchained/move-over-dockerfiles-the-new-way-to-craft-containers"><div class="flex items-center text-[14px] font-bold text-[#3443F4]"><span class="mr-[8px] flex"><svg xmlns="http://www.w3.org/2000/svg" width="7" height="11" viewBox="0 0 7 11" fill="none"><path d="M6.12 5.04743L1.07258 10.0948L-4.68838e-08 9.02227L3.97485 5.04743L-3.94376e-07 1.07258L1.07258 3.76781e-06L6.12 5.04743Z" fill="#3443F4"></path></svg></span><span class="flex capitalize">English</span></div></a></li><li><a href="/fr-FR/unchained/move-over-dockerfiles-the-new-way-to-craft-containers"><div class="text-placeholder-color my-[10px] flex text-[14px] font-bold capitalize text-[#14003D]">français</div></a></li><li><a href="/de-DE/unchained/move-over-dockerfiles-the-new-way-to-craft-containers"><div class="text-placeholder-color my-[10px] flex text-[14px] font-bold capitalize text-[#14003D]">Deutsch</div></a></li></ul></div></div></div><div class="hidden larger:flex"><a class="relative inline-flex items-center justify-center gap-[8px] rounded-full border border-primary-blue bg-primary-blue px-[18px] py-[10px] text-sm font-bold text-primary-white" href="/contact">Contact us</a></div><nav class="mobile-nav pr-[18px] larger:hidden larger:pr-0"><button class="nav-close-icon w-[39px] pl-[16px]"><svg xmlns="http://www.w3.org/2000/svg" width="23" height="19" viewBox="0 0 23 19" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 2C23 1.30965 22.4404 0.75 21.75 0.75H1.75C1.05963 0.75 0.5 1.30965 0.5 2C0.5 2.69035 1.05963 3.25 1.75 3.25H21.75C22.4404 3.25 23 2.69035 23 2ZM23 9.5C23 8.8096 22.4404 8.25 21.75 8.25H9.24998C8.55958 8.25 7.99998 8.8096 7.99998 9.5C7.99998 10.1904 8.55958 10.75 9.24998 10.75H21.75C22.4404 10.75 23 10.1904 23 9.5ZM23 17C23 16.3096 22.4404 15.75 21.75 15.75H15.5C14.8097 15.75 14.25 16.3096 14.25 17C14.25 17.6904 14.8097 18.25 15.5 18.25H21.75C22.4404 18.25 23 17.6904 23 17Z" fill="#14003D"></path></svg></button></nav></div></div></div></header><div class="relative z-[11] bg-white"><nav class="mobile-nav pr-[18px] larger:hidden larger:pr-0"></nav></div><main class="relative"><div class="mx-auto mb-sect-ends w-[85%] max-w-[1152px] lg:mb-[109px] xl:mb-[120px]"><section class="mx-auto mb-[24px] max-w-[1152px]"><h1 class="mb-[24px] mt-[57px] max-w-[760px] font-heading text-[36px] font-[600] leading-[43.2px]">Move over, Dockerfiles! The new way to craft containers</h1><div><span class="mb-[8px] text-[14px] font-[700] leading-[150%]">Jason Hall, Software Engineer and Zachary Newman, Principal Research Scientist</span></div><div><time>April 27, 2023</time></div></section><section class="mb-sect-ends lg:mb-[109px] xl:mb-[120px]"><div class="mb-[48px] flex flex-col items-start justify-between gap-[24px] md:flex-row"><div class="richtext w-full max-w-[693px]"><p class="leading-[24px]">Docker has become an immensely popular tool in the world of software development, and for good reason. It provides an excellent way to create, manage, and deploy containers, which in turn enables developers to run applications that work the same way in development and production. However, creating Docker images can sometimes be a pain, as anybody who has accidentally broken the apt cache and triggered an hours-long build by making a minor change can tell you.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">The standard, Dockerfile approach to creating container images can cause:</p><p class="leading-[24px]">‍</p><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Security concerns. Dockerfiles make it hard to know what’s in a package. This often results in low-quality Software Bills of Materials (SBOMs). Build commands in Dockerfiles end up as metadata in the resulting image, which can leak secrets, as recently noted in this <a class="text-primary-blue dark:text-primary-cyan" href="https://blog.aquasec.com/250m-artifacts-exposed-via-misconfigured-registries" target="_blank" rel="noopener noreferrer">Aqua Security report</a>. Running Docker is a privileged operation, which risks attacks on your build infrastructure.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Performance issues. Dockerfiles might take a long time to build, and don’t effectively use caches by default.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Bloated containers. Dockerfile containers can have extra files, which consume bandwidth and storage, and (worse) might introduce security vulnerabilities.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Exposed build services. Common Dockerfile build patterns require internet access, meaning that build infrastructure heavily favors an online environment and non-hermetic builds.</p></li></ul><p class="leading-[24px]">‍</p><p class="leading-[24px]">In this blog post, we&#x27;ll:</p><p class="leading-[24px]">‍</p><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Explore some issues with Dockerfiles.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Look at some alternatives for crafting containers, like ko, Bazel, Nix, and apko, and see their strengths and weaknesses.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">See what these techniques have in common, and how you might choose and migrate to one that meets your needs.</p></li></ul><p class="leading-[24px]">‍</p><h2 style="font-family:&#x27;fusiona&#x27;, &#x27;fusiona Fallback&#x27;, &#x27;Tahoma&#x27;;font-size:24px;font-weight:600;line-height:28px">The Issue with Dockerfiles</h2><p class="leading-[24px]">‍</p><p class="leading-[24px]">A Dockerfile is effectively a shell script that runs to set up a container image. Consider this example, adapted from the <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/docker-library/buildpack-deps" target="_blank" rel="noopener noreferrer">Docker Library buildpack-deps image</a>:</p><br/><pre class="relative"><code class="plaintext text-[14px]" style="border-radius:5px;padding:18px">FROM ubuntu
RUN set -eux;
	apt-get update;
	apt-get install -y --no-install-recommends \
		ca-certificates \
		curl \
	; \
	rm -rf /var/lib/apt/lists/*

COPY . /app
RUN make /app
CMD python /app/app.py</code></pre><br/><p class="leading-[24px]">This is easy to write, but hard to reason about. For instance, the <code style="font-size:12px;color:#e3e3e6;background-color:#25252a;padding:4px 8px">apt-get install</code> line needs to chain several commands together to follow the Dockerfile best practices and avoid leaving extra files in the final image.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">Dockerfiles have a few well-known issues that can make them a less-than-ideal solution for crafting containers:</p><p class="leading-[24px]">‍</p><h3 style="font-family:&#x27;fusiona&#x27;, &#x27;fusiona Fallback&#x27;, &#x27;Tahoma&#x27;;font-size:20px;font-weight:600;line-height:28px"><strong style="font-weight:600">Non-hermetic</strong></h3><br/><p class="leading-[24px]">A <a class="text-primary-blue dark:text-primary-cyan" href="https://bazel.build/basics/hermeticity" target="_blank" rel="noopener noreferrer">hermetic build</a> declares its inputs explicitly, which allows pre-fetching of inputs and builds that can run offline. Dockerfiles often contain implicit dependencies, because they fetch dependencies online at build time (without explicitly pinning an exact file hash). The internet changes constantly, as new packages are published or servers have outages. In our example, the exact packages installed will depend on the state of the Ubuntu package repository at the time the Docker build occurs.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">Dockerfile builds <i>can</i> be made hermetic with a disciplined approach, but you&#x27;ll always be fighting to detect and fix reproducibility regressions because that&#x27;s not what the tool or Dockerfile spec wants to do; even the recommended “<a class="text-primary-blue dark:text-primary-cyan" href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/" target="_blank" rel="noopener noreferrer">best practices</a>” have hermeticity problems.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">Ultimately, without hermeticity, a Docker image can’t be reproducible (which has problems for caching as well as verifiability). Further, builds will need to happen online—increasing the risk to the build infrastructure.</p><p class="leading-[24px]">‍</p><h3 style="font-family:&#x27;fusiona&#x27;, &#x27;fusiona Fallback&#x27;, &#x27;Tahoma&#x27;;font-size:20px;font-weight:600;line-height:28px"><strong style="font-weight:600">What’s in your image?</strong> </h3><br/><p class="leading-[24px]">Dockerfiles usually start with a base image, like Ubuntu, which comes with a lot of software. This may lead to hundreds of <a class="text-primary-blue dark:text-primary-cyan" href="https://chainguard.dev/blog-static/chainguard-all-about-that-base-image.pdf" target="_blank" rel="noopener noreferrer">vulnerabilities in your final image</a> due to software you don’t even care about. In many cases, these vulnerabilities are not exploitable, but it only takes one—and manually checking each can be a pain.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">Further, Dockerfile builds can lead to <a class="text-primary-blue dark:text-primary-cyan" href="https://www.chainguard.dev/unchained/software-dark-matter-is-the-enemy-of-software-transparency" target="_blank" rel="noopener noreferrer">software dark matter</a>, which are files with an unexplained source (for instance, those that don’t come from a package manager). These can be confusing to Software Composition Analysis (SCA) tools like <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/anchore/grype" target="_blank" rel="noopener noreferrer">grype</a>, <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/snyk/cli" target="_blank" rel="noopener noreferrer">snyk</a>, and <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/aquasecurity/trivy" target="_blank" rel="noopener noreferrer">trivy</a>. In addition to vulnerabilities, these extra files can cause bloat, leading to larger image sizes and extra bandwidth and storage costs. Dockerfile-based builds can generate Software Bills of Materials (SBOMs), but these SBOMs miss many dependencies, even though <a class="text-primary-blue dark:text-primary-cyan" href="https://www.chainguard.dev/unchained/make-sboms-not-guessboms-why-we-need-to-shift-left-on-sbom-generation" target="_blank" rel="noopener noreferrer">more information about the package is available at build-time</a> than any point later on. Docker build tooling does <a class="text-primary-blue dark:text-primary-cyan" href="https://docs.docker.com/build/attestations/" target="_blank" rel="noopener noreferrer">support creating build provenance attestations</a>, which can play a useful role in a <a class="text-primary-blue dark:text-primary-cyan" href="https://www.chainguard.dev/unchained/the-role-of-attestations-in-a-secure-software-supply-chain" target="_blank" rel="noopener noreferrer">secure software supply chain</a>.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">Even <a class="text-primary-blue dark:text-primary-cyan" href="https://docs.docker.com/build/building/multi-stage/" target="_blank" rel="noopener noreferrer">Multistage Dockerfiles</a>, which can prevent build dependencies from ending up in the final image, have many of these same issues.</p><p class="leading-[24px]">‍</p><h2 style="font-family:&#x27;fusiona&#x27;, &#x27;fusiona Fallback&#x27;, &#x27;Tahoma&#x27;;font-size:24px;font-weight:600;line-height:28px">Alternatives to Dockerfiles</h2><p class="leading-[24px]">‍</p><h3 style="font-family:&#x27;fusiona&#x27;, &#x27;fusiona Fallback&#x27;, &#x27;Tahoma&#x27;;font-size:20px;font-weight:600;line-height:28px">ko</h3><br/><p class="leading-[24px]"><a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/ko-build/ko" target="_blank" rel="noopener noreferrer">ko</a> is a CNCF project designed specifically for Go applications. To compile a Go app and place it directly into a container, a user simply runs ko build—in many cases, no configuration is required! This tool doesn&#x27;t depend on Docker, which makes it faster, more reliable, and portable. It also produces reproducible images with Software Bills of Materials (SBOMs) by default and results in very minimal images.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">When ko works for your application, it’s an incredible tool. But it only works for pure-Go applications; if your container needs another service, strange libraries, or CGO, you might be out of luck. There are ko-like projects for Java (<a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/GoogleContainerTools/jib" target="_blank" rel="noopener noreferrer">Jib</a>) and .NET (<a class="text-primary-blue dark:text-primary-cyan" href="https://learn.microsoft.com/en-us/dotnet/core/docker/publish-as-container" target="_blank" rel="noopener noreferrer">dotnet publish</a>) as well, which share the same strengths and limitations.</p><p class="leading-[24px]">‍</p><h3 style="font-family:&#x27;fusiona&#x27;, &#x27;fusiona Fallback&#x27;, &#x27;Tahoma&#x27;;font-size:20px;font-weight:600;line-height:28px">Bazel rules_oci</h3><p class="leading-[24px]">‍</p><p class="leading-[24px]"><a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/bazel-contrib/rules_oci" target="_blank" rel="noopener noreferrer">rules_oci</a> (like its predecessor, <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/bazelbuild/rules_docker" target="_blank" rel="noopener noreferrer">rules_docker</a>, created by Chainguard CTO Matt Moore) leverages Bazel, an open-source universal build tool. Users define their container image in a Bazel rule:</p><br/><pre class="relative"><code class="plaintext text-[14px]" style="border-radius:5px;padding:18px">oci_image(
    name = &quot;image&quot;,
    architecture = select({
        &quot;@platforms//cpu:arm64&quot;: &quot;arm64&quot;,
        &quot;@platforms//cpu:x86_64&quot;: &quot;amd64&quot;,
    }),
    base = &quot;@ubuntu&quot;,
    cmd = [&quot;app.bash&quot;],
    os = &quot;linux&quot;,
    tars = [&quot;:app.tar&quot;],
)</code></pre><br/><p class="leading-[24px]">If your application already builds in Bazel, it’s easy to pull the targets into the ultimate Docker image and configure it to run. And because it uses Bazel, it&#x27;s fast (with good caching), reproducible, and can run across a large build cluster.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">However, “If your application already builds in Bazel” is a big ask. While Bazel supports many programming languages with first-party integrations, and extensions allow it to use any language, Bazel can be a pain to run. It can work really well in enormous, really complex monorepos (like inside Google, where Bazel came from). But “partly-Bazel” codebases are difficult to manage, and the complexity of setting it up (especially when integrating with external software) can be overwhelming.</p><p class="leading-[24px]">‍</p><h3 style="font-family:&#x27;fusiona&#x27;, &#x27;fusiona Fallback&#x27;, &#x27;Tahoma&#x27;;font-size:20px;font-weight:600;line-height:28px">Nix</h3><p class="leading-[24px]">‍</p><p class="leading-[24px]">Nix is a build tool that emphasizes reproducibility. It&#x27;s based on academic theory, as described in Eelco Dolstra&#x27;s <a class="text-primary-blue dark:text-primary-cyan" href="https://edolstra.github.io/pubs/phd-thesis.pdf" target="_blank" rel="noopener noreferrer">PhD thesis</a>. Nix’s <a class="text-primary-blue dark:text-primary-cyan" href="https://nix.dev/tutorials/building-and-running-docker-images" target="_blank" rel="noopener noreferrer">dockerTools</a> library provides excellent support for building Docker images:</p><p class="leading-[24px]">‍</p><pre class="relative"><code class="plaintext text-[14px]" style="border-radius:5px;padding:18px">let
  nginxConf = pkgs.writeText &quot;nginx.conf&quot; &#x27;&#x27;
          daemon off;
  &#x27;&#x27;;
in pkgs.dockerTools.buildImage {
  contents = [ pkgs.nginx ];
  config = {
    Cmd = [ &quot;nginx&quot; &quot;-c&quot; nginxConf ];
    ExposedPorts = {
      &quot;8080/tcp&quot; = {};
    };
}</code></pre><br/><p class="leading-[24px]">Nix builds images using the Nix cache, ensuring that only runtime dependencies end up in the final image. The final image will always be bit-for-bit reproducible. If you have multiple related images, they can even share layers, reducing disk usage.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">A related approach eschews dockerTools, instead running Nix itself inside of Docker to build the container image. This has some similar properties, but users use <code style="font-size:12px;color:#e3e3e6;background-color:#25252a;padding:4px 8px">docker build</code> instead of <code style="font-size:12px;color:#e3e3e6;background-color:#25252a;padding:4px 8px">nix</code> to build the image. Unfortunately, the final image is no longer reproducible when using this technique.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">The primary downside to Nix is its steep learning curve and high cost of adoption. Docker builds in Nix are written using the Nix programming language. The Nix language is a full-blown programming language, not just a configuration format like YAML. Nix is lazy and functional, which can be confusing for anybody who doesn’t write Haskell on a daily basis. Nix can be pedantic: it differentiates between build-time tools producing build-time artifacts, build-time tools producing run-time artifacts, build-time tools producing run-time dependencies, and run-time dependencies themselves. Multiple attempts have been made to improve the learning curve with tools like <a class="text-primary-blue dark:text-primary-cyan" href="https://floxdev.com/" target="_blank" rel="noopener noreferrer">Flox</a> and <a class="text-primary-blue dark:text-primary-cyan" href="https://getfleek.dev/" target="_blank" rel="noopener noreferrer">Fleek</a>, but none has caught on quite yet.</p><p class="leading-[24px]">‍</p><h3 style="font-family:&#x27;fusiona&#x27;, &#x27;fusiona Fallback&#x27;, &#x27;Tahoma&#x27;;font-size:20px;font-weight:600;line-height:28px">apko</h3><p class="leading-[24px]">‍</p><p class="leading-[24px]"><a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/chainguard-dev/apko" target="_blank" rel="noopener noreferrer">apko</a> is a build tool from Chainguard designed specifically for creating base images. It&#x27;s what we use to produce all of our <a class="text-primary-blue dark:text-primary-cyan" href="https://www.chainguard.dev/chainguard-images" target="_blank" rel="noopener noreferrer">Chainguard Images</a>, and it&#x27;s instrumental in being able to effectively maintain so many high-quality images. apko uses the <a class="text-primary-blue dark:text-primary-cyan" href="https://wiki.alpinelinux.org/wiki/Apk_spec" target="_blank" rel="noopener noreferrer">APK package format</a> used by Alpine Linux, and follows a radical principle: all of the contents of the container image must come from APK packages. In practice, this isn’t a big constraint, as tooling like <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/chainguard-dev/melange" target="_blank" rel="noopener noreferrer">melange</a> makes it easy to create APKs. <a class="text-primary-blue dark:text-primary-cyan" href="https://wolfi.dev/" target="_blank" rel="noopener noreferrer">Wolfi</a> uses melange to build the thousands of packages it provides. But limiting image creation to assembling packages and configuring Docker metadata comes with huge benefits:</p><p class="leading-[24px]">‍</p><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Building is lightning fast.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Images are reproducible.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Builds are more secure and don&#x27;t require any privileges: they work by downloading packages over HTTPS and assembling images, not executing any other commands.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Images come with SBOMs that are complete.</p></li></ul><p class="leading-[24px]">‍</p><p class="leading-[24px]">Here’s a (lightly abridged) example of a configuration file for <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/chainguard-dev/apko/blob/889f9c1ed2f3e94736dafc58a3f42c26f4eaf659/examples/nginx.yaml" target="_blank" rel="noopener noreferrer">an Nginx image</a>:</p><br/><pre class="relative"><code class="plaintext text-[14px]" style="border-radius:5px;padding:18px">contents:
  packages:
    - wolfi-baselayout
    - nginx

entrypoint:
  type: service-bundle
  services:
    nginx: /usr/sbin/nginx -c /etc/nginx/nginx.conf

paths:
  - path: /etc/nginx/http.d/default.conf
    type: hardlink
    source: /usr/share/nginx/http-default_server.conf</code></pre><br/><p class="leading-[24px]">We can see that apko is much simpler than something like Bazel or Nix: there’s no new programming language, just YAML (and the <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/chainguard-dev/apko/blob/main/docs/apko_file.md" target="_blank" rel="noopener noreferrer">full description of the configuration format</a> runs about 250 lines). In cases where apko itself isn’t a good fit, it can be used to create base images to be used with any of the tools described above, <a class="text-primary-blue dark:text-primary-cyan" href="https://edu.chainguard.dev/open-source/wolfi/wolfi-with-dockerfiles/" target="_blank" rel="noopener noreferrer">even Dockerfile builds</a>.</p><p class="leading-[24px]">‍</p><h2 style="font-family:&#x27;fusiona&#x27;, &#x27;fusiona Fallback&#x27;, &#x27;Tahoma&#x27;;font-size:24px;font-weight:600;line-height:28px">Conclusion</h2><p class="leading-[24px]">‍</p><p class="leading-[24px]">Declarative approaches to building containers, such as those provided by the alternatives mentioned above, offer several advantages over traditional Dockerfiles. They&#x27;re generally faster, provide better caching, and result in more minimal images. They do involve learning and installing new software, which is a real cost.</p><p class="leading-[24px]">‍</p><p class="leading-[24px]">So what should you do? The following guidance is appropriate in most cases:</p><p class="leading-[24px]">‍</p><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">If you already use and love a build system like Bazel or Nix, use that ecosystem’s Docker tooling to get reproducible, hermetic builds.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">If your applications work with special-purpose tools like <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/ko-build/ko" target="_blank" rel="noopener noreferrer">ko</a>, <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/GoogleContainerTools/jib" target="_blank" rel="noopener noreferrer">Jib</a>, or <a class="text-primary-blue dark:text-primary-cyan" href="https://learn.microsoft.com/en-us/dotnet/core/docker/publish-as-container/" target="_blank" rel="noopener noreferrer">dotnet publish</a>, use those.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">If you care about build speed, reproducibility, Software Bills of Materials (SBOMs) for your containers, and minimal images, consider <a class="text-primary-blue dark:text-primary-cyan" href="https://github.com/chainguard-dev/apko" target="_blank" rel="noopener noreferrer">apko</a>.</p></li></ul><br/><ul class="blog-ul" style="list-style:disc;padding-left:40px"><li class="last:mb-[12px]"><p class="leading-[24px]">Otherwise, use Dockerfiles. Consider using base images that come from the above tools.</p></li></ul><p class="leading-[24px]">‍</p><p class="leading-[24px]">As software development evolves, it&#x27;s important to consider new and improved ways to craft containers that address the limitations of Dockerfiles. By exploring alternative tools like Ko, Bazel rules_docker, Nix, and Apko, you can create more efficient, reliable, and secure container images for your applications.</p><div class="mt-[24px] flex flex-col"><div class="mb-[8px] font-bold">Share</div><div class="flex items-center gap-[12px]"></div></div></div><aside class="relative mt-sect-ends md:sticky md:top-[40px] md:mt-0 md:max-w-[325px]"><h2 class="mb-[24px] font-heading text-[20px] font-[600] leading-[120%]">Related Articles</h2><a target="_blank" class="mb-[32px] block last:mb-0" href="/unchained/guest-post-resiliency-by-design-and-the-importance-of-internal-developer-platforms"><div class="space-y-[12px]"><div class="related-img-container h-[114px] w-[172px] overflow-hidden rounded-[8px]"><img alt="" loading="lazy" width="1840" height="1230" decoding="async" data-nimg="1" class="h-full object-cover" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fl47ir7rfykkn%2FXi52tk8eXISPAtz1JNza8%2F62129743b0e4e3e1d622cbbe42ad6dc1%2F21__Resiliency_by_Design_and_the_Importance_of_Internal_Developer_Platforms.png&amp;w=1920&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fl47ir7rfykkn%2FXi52tk8eXISPAtz1JNza8%2F62129743b0e4e3e1d622cbbe42ad6dc1%2F21__Resiliency_by_Design_and_the_Importance_of_Internal_Developer_Platforms.png&amp;w=3840&amp;q=75 2x" src="/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fl47ir7rfykkn%2FXi52tk8eXISPAtz1JNza8%2F62129743b0e4e3e1d622cbbe42ad6dc1%2F21__Resiliency_by_Design_and_the_Importance_of_Internal_Developer_Platforms.png&amp;w=3840&amp;q=75"/></div><span class="text-cg-primary-blue inline-block rounded-[4px] bg-secondary-gray px-[8px] py-[2px] text-sm font-medium leading-[1.5] text-primary-dark-purple">Engineering</span><h3 class="font-heading font-medium md:max-w-[85%]">Guest Post: Resiliency by Design and the Importance of Internal Developer Platforms</h3><div class="date-container"><time class="">August 21, 2025</time></div></div></a><a target="_blank" class="mb-[32px] block last:mb-0" href="/unchained/this-shit-is-hard-hardening-glibc"><div class="space-y-[12px]"><div class="related-img-container h-[114px] w-[172px] overflow-hidden rounded-[8px]"><img alt="" loading="lazy" width="1840" height="1230" decoding="async" data-nimg="1" class="h-full object-cover" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fl47ir7rfykkn%2F1MyYrPbfDVxhWELty2PNM7%2Fd0f2138691a4b94b9648b708f9a39147%2FThis_Shit_Is_Hard__Hardening_glibc.png&amp;w=1920&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fl47ir7rfykkn%2F1MyYrPbfDVxhWELty2PNM7%2Fd0f2138691a4b94b9648b708f9a39147%2FThis_Shit_Is_Hard__Hardening_glibc.png&amp;w=3840&amp;q=75 2x" src="/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fl47ir7rfykkn%2F1MyYrPbfDVxhWELty2PNM7%2Fd0f2138691a4b94b9648b708f9a39147%2FThis_Shit_Is_Hard__Hardening_glibc.png&amp;w=3840&amp;q=75"/></div><span class="text-cg-primary-blue inline-block rounded-[4px] bg-secondary-gray px-[8px] py-[2px] text-sm font-medium leading-[1.5] text-primary-dark-purple">Engineering</span><h3 class="font-heading font-medium md:max-w-[85%]">This Shit Is Hard: Hardening glibc</h3><div class="date-container"><time class="">August 20, 2025</time></div></div></a><a target="_blank" class="mb-[32px] block last:mb-0" href="/unchained/announcing-kernel-independent-fips-for-java"><div class="space-y-[12px]"><div class="related-img-container h-[114px] w-[172px] overflow-hidden rounded-[8px]"><img alt="" loading="lazy" width="1940" height="1330" decoding="async" data-nimg="1" class="h-full object-cover" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fl47ir7rfykkn%2F2D7EBqGaW3lmP60ebhj5HK%2Fc17425ffea16b7ef3211d31d11f16854%2F13__Kernel-Independent_FIPS_for_Java.png&amp;w=2048&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fl47ir7rfykkn%2F2D7EBqGaW3lmP60ebhj5HK%2Fc17425ffea16b7ef3211d31d11f16854%2F13__Kernel-Independent_FIPS_for_Java.png&amp;w=3840&amp;q=75 2x" src="/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fl47ir7rfykkn%2F2D7EBqGaW3lmP60ebhj5HK%2Fc17425ffea16b7ef3211d31d11f16854%2F13__Kernel-Independent_FIPS_for_Java.png&amp;w=3840&amp;q=75"/></div><span class="text-cg-primary-blue inline-block rounded-[4px] bg-secondary-gray px-[8px] py-[2px] text-sm font-medium leading-[1.5] text-primary-dark-purple">Engineering</span><h3 class="font-heading font-medium md:max-w-[85%]">Announcing Kernel-Independent FIPS for Java</h3><div class="date-container"><time class="">August 14, 2025</time></div></div></a></aside></div></section><section class="mx-auto my-sect-ends mb-[96px] max-w-[1152px] lg:mb-[109px] xl:mb-[120px] w-full"><h2 class="mb-[12px] font-heading text-[24px] font-semibold leading-[32px]">Ready to Lock Down Your Supply Chain?</h2><p class="mb-[24px]">Talk to our customer obsessed, community-driven team.</p><a target="_self" class="group inline-block rounded-full border-2 border-primary-blue px-[20px] py-[10px] font-mono font-bold text-primary-blue transition-colors duration-300 hover:bg-primary-blue hover:text-primary-white dark:border-primary-cyan dark:text-primary-cyan dark:hover:bg-primary-cyan dark:hover:text-primary-dark-purple undefined" href="/contact"><div class="flex items-center gap-[12px]"><div class="text-sm text-primary-dark-purple transition-colors duration-300 group-hover:text-primary-white dark:text-primary-white dark:group-hover:text-primary-dark-purple">Talk to an expert</div><div><svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.1472 0.869141L16.8549 5.57685L12.1472 10.2833" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"></path><path d="M1.07031 5.04199C0.656099 5.04199 0.320313 5.37778 0.320312 5.79199C0.320312 6.2062 0.656099 6.54199 1.07031 6.54199L1.07031 5.04199ZM17.0703 5.04199L1.07031 5.04199L1.07031 6.54199L17.0703 6.54199L17.0703 5.04199Z" fill="currentColor"></path></svg></div></div></a></section></div></main><footer class="desktop-footer relative hidden w-full border-t border-primary-dark-purple bg-white pb-sect-ends pt-[63px] md:block lg:pb-[120px] dark:border-primary-white dark:bg-[#14003D]"><div class="relative z-[1] mx-auto w-[93%] max-w-section-v2 overflow-visible px-[24px] text-lg sm:w-[85%] md:px-0"><div class="footer-container flex justify-between md:gap-[12px] lg:gap-[32px]"><div class="logo-col-content max-w-[260px] lg:mr-[32px]"><div class="logo-container flex max-w-[156px] items-center md:max-w-[260px]"><a href="/"><div class="flex"><div class="mr-0 flex larger:mr-[4px]"><svg xmlns="http://www.w3.org/2000/svg" width="29" height="26" viewBox="0 0 29 26" fill="none"><path class="dark:fill-white" fill-rule="evenodd" clip-rule="evenodd" d="M23.141 15.9955C23.3628 15.2024 23.4834 14.3332 23.4834 13.3879C23.4834 7.4751 18.7667 0.819916 14.056 0.819916C9.34521 0.819916 4.62852 7.4751 4.62852 13.3879C4.62852 14.6771 4.85275 15.8245 5.25225 16.8308L2.42059 16.6657C1.26726 16.5985 0.2047 17.4509 0.384583 18.6338C0.454351 19.0926 0.587314 19.5621 0.824777 19.9678C0.0231448 20.5523 -0.304315 21.6269 0.345227 22.4691C0.997283 23.3145 1.95468 24.0936 3.26884 24.0936C4.69423 24.0936 5.55207 23.7117 6.07304 23.2321C6.11107 23.4416 6.18951 23.6478 6.31334 23.8427C6.9531 24.8495 8.01264 25.9564 9.57907 25.9564C12.2437 25.9564 12.5409 24.2214 12.6901 23.3507C12.7017 23.2826 12.7125 23.2198 12.7234 23.1635L14.5041 22.2403L16.2848 23.1635C16.2957 23.2198 16.3065 23.2825 16.3181 23.3506L16.3182 23.3507C16.4673 24.2214 16.7645 25.9564 19.4291 25.9564C20.9956 25.9564 22.0551 24.8495 22.6949 23.8427C22.72 23.8031 22.7433 23.763 22.7648 23.7225C23.2667 23.9475 23.9313 24.0936 24.8129 24.0936C26.1271 24.0936 27.0845 23.3145 27.7366 22.4691C28.5352 21.4336 27.8568 20.0468 26.6361 19.6514L26.2327 19.5207C27.4172 18.8844 27.5915 17.6842 27.4646 16.6325C27.3213 15.4442 26.0725 14.9305 24.9824 15.3266L23.141 15.9955ZM14.5058 22.2231C14.5047 22.2232 14.5037 22.2232 14.5026 22.2232L14.5041 22.2241L14.5058 22.2231Z" fill="#14003D"></path></svg></div><div class="text-placeholder-color flex font-diatypeBold text-[26px] font-bold">Chainguard</div></div></a></div><div class="my-[24px] flex w-full"><a class="text-primary-dark-purple-hex group inline-block rounded-full border-[1px] border-solid border-[#3443F4] px-[20px] py-[10px] font-[18px] font-bold transition-colors duration-300 hover:bg-primary-blue hover:text-primary-white dark:border-primary-white dark:text-primary-cyan dark:hover:border-primary-cyan dark:hover:bg-primary-cyan dark:hover:text-primary-dark-purple" href="/contact"><div class="flex items-center gap-[12px]"><div class="text-sm text-primary-dark-purple transition-colors duration-300 group-hover:text-primary-white dark:text-primary-white dark:group-hover:text-primary-dark-purple">Contact us</div></div></a></div><div class="social-icons my-[24px] flex items-center gap-[10px]"><a target="_blank" aria-label="Visit our X profile" href="https://x.com/chainguard_dev"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><mask id="mask0_560_16939" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24"><path d="M17.632 0.547699H5.568C2.49288 0.547699 0 3.04859 0 6.1336V18.2364C0 21.3214 2.49288 23.8223 5.568 23.8223H17.632C20.7071 23.8223 23.2 21.3214 23.2 18.2364V6.1336C23.2 3.04859 20.7071 0.547699 17.632 0.547699Z" class="fill-white"></path></mask><g mask="url(#mask0_560_16939)"><path d="M23.2 4.12826V20.2492C23.199 21.1972 22.8229 22.106 22.1544 22.776C21.4859 23.4459 20.5796 23.8223 19.6346 23.8223H3.56538C2.62042 23.8223 1.71412 23.4459 1.04559 22.776C0.377057 22.106 0.000985747 21.1972 1.9325e-06 20.2492V4.12826C-0.00048586 3.65823 0.0913754 3.19271 0.270334 2.75832C0.449292 2.32393 0.711839 1.92918 1.04296 1.59665C1.37409 1.26411 1.7673 1.00031 2.20011 0.820325C2.63292 0.64034 3.09685 0.547699 3.56538 0.547699L19.6346 0.547699C20.1032 0.547699 20.5671 0.64034 20.9999 0.820325C21.4327 1.00031 21.8259 1.26411 22.157 1.59665C22.4882 1.92918 22.7507 2.32393 22.9297 2.75832C23.1086 3.19271 23.2005 3.65823 23.2 4.12826Z" class="fill-[#14003D] dark:fill-white"></path><path d="M12.9469 11.4018L12.4476 10.6765L9.1811 5.92856H5.625L10.4562 13.0198L10.9545 13.7506L14.1635 18.4614H17.7939L12.9469 11.4018ZM11.49 13.1204L10.9925 12.3895L7.12836 6.71802H8.76629L11.9215 11.3003L12.4207 12.0265L16.2961 17.6626H14.5895L11.49 13.1204Z" class="fill-white dark:fill-[#14003D]"></path><path d="M10.7773 12.3836L11.2747 13.1145L10.7438 13.741L6.75345 18.4518H5.625L10.2455 13.0102L10.7773 12.3836Z" class="fill-white dark:fill-[#14003D]"></path><path d="M17.5451 5.92856L12.9051 11.4046L12.3743 12.0302L11.875 11.3041L12.4058 10.6785L16.4398 5.93043L17.5451 5.92856Z" class="fill-white dark:fill-[#14003D]"></path></g></svg></a><a target="_blank" aria-label="Visit our LinkedIn profile" href="https://www.linkedin.com/company/chainguard-dev/"><div class="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none"><path d="M6.93866 0.54776H18.0816C19.6971 0.548746 21.2462 1.18917 22.3888 2.32844C23.5314 3.46772 24.174 5.01275 24.1758 6.62429V17.7458C24.174 19.3574 23.5314 20.9024 22.3888 22.0417C21.2462 23.1809 19.6971 23.8214 18.0816 23.8223H6.93866C5.32319 23.8214 3.77407 23.1809 2.6315 22.0417C1.48892 20.9024 0.846243 19.3574 0.844513 17.7458V6.62429C0.846243 5.01275 1.48892 3.46772 2.6315 2.32844C3.77407 1.18917 5.32319 0.548746 6.93866 0.54776Z" fill="#14003D" class="fill-[#14003D] dark:fill-white"></path><path d="M5.21951 9.74698H8.28983V19.8509H5.21951V9.74698Z" fill="white" class="fill-white dark:fill-[#14003D]"></path><path d="M10.2475 12.8723C10.2475 11.81 10.2475 10.5197 10.2195 9.58685H13.1966C13.267 10.0764 13.3075 10.5698 13.318 11.0643C13.7659 10.1985 14.7178 9.28799 16.9669 9.28799C19.4307 9.28799 20.2239 11.0569 20.2239 14.239V19.8426H17.1536V14.5918C17.1536 13.051 16.5376 11.9618 15.539 11.9618C13.8125 11.9618 13.3086 13.065 13.3086 15.3506V19.8426H10.2382V12.8723H10.2475Z" fill="white" class="fill-white dark:fill-[#14003D]"></path><path d="M6.38628 8.09361C6.74022 8.09325 7.08614 7.9882 7.38025 7.79177C7.67436 7.59534 7.90353 7.31635 8.03872 6.99003C8.17391 6.66372 8.20905 6.30473 8.13977 5.95848C8.07049 5.61222 7.89985 5.29425 7.64945 5.04471C7.39904 4.79517 7.08011 4.6253 6.73294 4.55655C6.38578 4.4878 6.02595 4.52326 5.69899 4.65846C5.37202 4.79366 5.09267 5.02255 4.89606 5.31615C4.69946 5.60976 4.59451 5.95491 4.59451 6.30799C4.59464 6.54261 4.6411 6.77489 4.73122 6.9916C4.82133 7.2083 4.95331 7.40518 5.11969 7.57099C5.28608 7.7368 5.48359 7.86831 5.70092 7.95798C5.91825 8.04765 6.15109 8.09374 6.38628 8.09361Z" fill="white" class="fill-white dark:fill-[#14003D]"></path></svg></div></a><a target="_blank" aria-label="Visit our YouTube channel" href="https://www.youtube.com/@chainguard"><div class="YouTube"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="22" viewBox="0 0 32 22" fill="none"><g clip-path="url(#clip0_560_16954)"><path class="dark:fill-white" d="M30.939 3.76117C30.765 3.10659 30.4251 2.51003 29.9533 2.03124C29.4815 1.55244 28.8944 1.20823 28.2508 1.03307C25.8804 0.387922 16.3768 0.387924 16.3768 0.387924C16.3768 0.387924 6.87064 0.387922 4.50282 1.03307C3.85919 1.20823 3.27207 1.55244 2.80028 2.03124C2.32848 2.51003 1.98856 3.10659 1.81459 3.76117C0.967769 8.67513 0.967769 13.7016 1.81459 18.6156C1.98856 19.2701 2.32848 19.8667 2.80028 20.3455C3.27207 20.8243 3.85919 21.1685 4.50282 21.3437C6.87325 21.9888 16.3768 21.9888 16.3768 21.9888C16.3768 21.9888 25.883 21.9888 28.2508 21.3437C28.8944 21.1685 29.4815 20.8243 29.9533 20.3455C30.4251 19.8667 30.765 19.2701 30.939 18.6156C31.7858 13.7016 31.7858 8.67513 30.939 3.76117ZM13.3341 15.8155V6.55948L21.232 11.1884L13.3341 15.8155Z" fill="#14003D"></path></g><defs><clipPath id="clip0_560_16954"><rect width="30.4" height="21.6" fill="white" transform="translate(0.820099 0.384995)"></rect></clipPath></defs></svg></div></a><a target="_blank" aria-label="Visit our GitHub profile" href="https://github.com/chainguard-dev"><div class="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none"><g clip-path="url(#clip0_560_16956)"><path class="dark:fill-white" d="M20.9876 0.584808H4.11487C3.27582 0.584808 2.47114 0.918119 1.87784 1.51142C1.28454 2.10471 0.951233 2.9094 0.951233 3.74844L0.951233 20.6212C0.951233 21.4602 1.28454 22.2649 1.87784 22.8582C2.47114 23.4515 3.27582 23.7848 4.11487 23.7848H20.9876C21.8266 23.7848 22.6313 23.4515 23.2246 22.8582C23.8179 22.2649 24.1512 21.4602 24.1512 20.6212V3.74844C24.1512 2.9094 23.8179 2.10471 23.2246 1.51142C22.6313 0.918119 21.8266 0.584808 20.9876 0.584808ZM14.8251 19.1119C14.4534 19.183 14.3268 18.9589 14.3268 18.7731C14.3268 18.5411 14.3361 17.7752 14.3361 16.8222C14.3361 16.1539 14.1001 15.7175 13.847 15.504C15.4591 15.3287 17.1543 14.7263 17.1543 11.9897C17.165 11.2793 16.8983 10.5927 16.4109 10.0757C16.4834 9.89513 16.7286 9.17013 16.3384 8.1894C16.3384 8.1894 15.732 7.99826 14.3611 8.91967C13.1739 8.59979 11.9233 8.59979 10.7361 8.91967C9.34937 7.99694 8.74169 8.1894 8.74169 8.1894C8.34623 9.17276 8.59669 9.89776 8.67182 10.0757C8.18321 10.5911 7.91545 11.277 7.92573 11.9871C7.92573 14.7157 9.61828 15.3287 11.2212 15.5066C10.9583 15.7586 10.7954 16.0971 10.7625 16.4597C10.3472 16.6416 9.29664 16.9566 8.65337 15.8678C8.65337 15.8678 8.2711 15.1824 7.54346 15.1336C7.54346 15.1336 6.8356 15.1244 7.49205 15.5659C7.49205 15.5659 7.96923 15.7861 8.29878 16.6073C8.29878 16.6073 8.72455 17.9927 10.7414 17.5643C10.7414 18.1575 10.7493 18.6057 10.7493 18.7757C10.7493 18.9458 10.6175 19.1844 10.255 19.1171C7.37869 18.1786 5.30123 15.5093 5.30123 12.3614C5.30123 8.42667 8.54528 5.24326 12.5512 5.24326C16.5572 5.24326 19.8012 8.43326 19.8012 12.368C19.8012 15.504 17.7264 18.1759 14.8251 19.1119Z" fill="#14003D"></path></g><defs><clipPath id="clip0_560_16956"><rect width="23.2" height="23.2" fill="white" transform="translate(0.864532 0.584991)"></rect></clipPath></defs></svg></div></a></div><div class="my-[24px] flex"><div class="switch-content flex items-center justify-center gap-[6px] font-sans text-sm undefined"><span>Light</span><label class="switch" for="themeswitch-des"><input type="checkbox" disabled="" id="themeswitch-des"/><span class="slider round !bg-[#3443F4]"></span></label><span>Dark</span></div></div><div class="copyright"><p class="text-xs">©2025 Chainguard. All Rights Reserved.</p><div class="mt-[5px] flex"><div class="flex divide-x divide-primary-dark-purple dark:divide-primary-white"><a class="mr-[2px] inline-block flex pr-[4px] text-xs" href="/legal/privacy-notice">Privacy Policy</a><a class="flex px-[6px] text-xs" href="/legal/terms-of-use">Terms of Use</a></div><div class="flex"><button type="button" id="hs_show_banner_button" class="hidden border-l-[1px] border-solid border-primary-dark-purple pl-[6px] text-xs dark:border-white"><span>Manage Cookies</span></button></div></div></div></div><div class="footer-col grid shrink-0 grid-cols-1 gap-[32px]"><div class="product-content"><h2 class="row-start-1 mb-[8px] text-[16px] font-bold">Product</h2><a class="mb-[8px] block text-sm" href="/containers">Chainguard Containers</a><a class="mb-[8px] block text-sm" href="/libraries">Chainguard Libraries</a><a class="mb-[8px] block text-sm" href="/vms">Chainguard VMs</a><a class="mb-[8px] flex items-center text-sm" target="_blank" href="https://images.chainguard.dev/">Images Directory</a><a class="mb-[8px] flex items-center text-sm" href="/scanners">Integrations</a><a class="mb-[8px] flex items-center text-sm" href="/pricing">Pricing</a></div><div class="why-chainguard-content space-y-[14px] xl:hidden"><h2 class="row-start-1 mb-[8px] text-[16px] font-bold">Solutions</h2><a class="mb-[8px] block text-sm" href="/solutions/fedramp">FedRAMP</a><a class="mb-[8px] block text-sm" href="/solutions/pci">PCI DSS</a><a class="mb-[8px] block text-sm" href="/solutions/cmmc">CMMC 2.0</a><a class="mb-[8px] block text-sm" href="/solutions/golden-images">Golden Images</a><a class="mb-[8px] block text-sm" href="/solutions/cve-remediation">CVE Remediation</a><a class="block text-sm" href="/solutions/public-sector">Public Sector</a></div></div><div class="footer-col why-chainguard-content hidden xl:block"><h2 class="row-start-1 mb-[8px] text-[16px] font-bold">Solutions</h2><a class="mb-[8px] block text-sm" href="/solutions/fedramp">FedRAMP</a><a class="mb-[8px] block text-sm" href="/solutions/pci">PCI DSS</a><a class="mb-[8px] block text-sm" href="/solutions/cmmc">CMMC 2.0</a><a class="mb-[8px] block text-sm" href="/solutions/golden-images">Golden Images</a><a class="mb-[8px] block text-sm" href="/solutions/cve-remediation">CVE Remediation</a><a class="block text-sm" href="/solutions/public-sector">Public Sector</a></div><div class="footer-col grid shrink-0 grid-cols-1 gap-[32px]"><div class="why-chainguard-content"><h2 class="row-start-1 mb-[8px] text-[16px] font-bold">Customers</h2><a class="mb-[8px] block text-sm" href="/customers">Customer Stories</a><a class="mb-[8px] block text-sm" href="/chainguard-love">Chainguard Reviews</a></div><div class="company-content xl:hidden"><h2 class="row-start-1 mb-[8px] text-[16px] font-bold">Resources</h2><a class="mb-[8px] block text-sm" href="/events">Events &amp; Webinars</a><a target="_blank" class="mb-[8px] block text-sm" href="https://courses.chainguard.dev/">Chainguard Courses</a><a target="_blank" class="mb-[8px] block text-sm" href="https://edu.chainguard.dev/">Documentation</a><a class="mb-[8px] block text-sm" target="_blank" href="https://security.chainguard.dev/">Trust Center</a></div></div><div class="footer-col company-content hidden xl:block"><h2 class="row-start-1 mb-[8px] text-[16px] font-bold">Resources</h2><a class="mb-[8px] block text-sm" href="/events">Events &amp; Webinars</a><a class="mb-[8px] block text-sm" href="/supply-chain-security-101">Supply Chain Security 101</a><a target="_blank" class="mb-[8px] block text-sm" href="https://courses.chainguard.dev/">Chainguard Courses</a><a target="_blank" class="mb-[8px] block text-sm" href="https://edu.chainguard.dev/">Documentation</a><a class="mb-[8px] block text-sm" target="_blank" href="https://security.chainguard.dev/">Trust Center</a></div><div class="footer-col resources"><h2 class="row-start-1 mb-[8px] text-[16px] font-bold">Company</h2><a class="mb-[8px] block text-sm" href="/about-us">About Us</a><a class="mb-[8px] block text-sm" href="/unchained">Blog</a><a class="mb-[8px] block text-sm" href="/partners">Partners</a><a class="mb-[8px] block text-sm" href="/newsroom">Newsroom</a><a class="mb-[8px] block text-sm" href="/careers">Careers</a><a class="mb-[8px] block text-sm" href="/legal/acceptable-use-policy">Legal</a></div></div></div></footer><footer class="mobile-footer relative mx-auto w-full max-w-section border-t border-[#D8D5E0] pt-[26px] md:hidden dark:border-primary-white"><div class="flex flex-wrap px-[24px]"><div class="flex w-full flex-wrap"><h2 class="mb-[8px] flex w-full text-[16px] font-bold">Product</h2><a class="mb-[8px] flex w-[50%] text-sm" href="/containers">Chainguard Containers</a><a class="mb-[8px] flex w-[50%] text-sm" href="/libraries">Chainguard Libraries</a><a class="mb-[8px] flex w-[50%] text-sm" href="/vms">Chainguard VMs</a><a class="mb-[8px] flex w-[50%] text-sm" target="_blank" href="https://images.chainguard.dev/">Images Directory</a><a class="mb-[8px] flex w-[50%] text-sm" href="/scanners">Integrations</a><a class="mb-[8px] flex w-[50%] text-sm" href="/pricing">Pricing</a></div><div class="mt-[32px] flex w-full flex-wrap"><h2 class="mb-[8px] flex w-full text-[16px] font-bold">Solutions</h2><a class="mb-[8px] flex w-[50%] text-sm" href="/solutions/fedramp">FedRAMP</a><a class="mb-[8px] flex w-[50%] text-sm" href="/solutions/pci">PCI DSS</a><a class="mb-[8px] flex w-[50%] text-sm" href="/solutions/cmmc">CMMC 2.0</a><a class="mb-[8px] flex w-[50%] text-sm" href="/solutions/golden-images">Golden Images</a><a class="mb-[8px] flex w-[50%] text-sm" href="/solutions/cve-remediation">CVE Remediation</a><a class="mb-[8px] flex w-[50%] text-sm" href="/solutions/public-sector">Public Sector</a></div><div class="mt-[32px] flex w-full flex-wrap"><h2 class="mb-[8px] flex w-full text-[16px] font-bold">Customers</h2><a class="mb-[8px] flex w-[50%] text-sm" href="/customers">Customer Stories</a><a class="mb-[8px] flex w-[50%] text-sm" href="/chainguard-love">Chainguard Reviews</a></div><div class="mt-[32px] flex w-full flex-wrap"><h2 class="mb-[8px] flex w-full text-[16px] font-bold">Resources</h2><a class="mb-[8px] flex w-[50%] text-sm" href="/events">Events &amp; Webinars</a><a class="mb-[8px] flex w-[50%] text-sm" href="/supply-chain-security-101">Supply Chain Security 101</a><a target="_blank" class="mb-[8px] flex w-[50%] text-sm" href="https://courses.chainguard.dev/">Chainguard Courses</a><a target="_blank" class="mb-[8px] flex w-[50%] text-sm" href="https://edu.chainguard.dev/">Documentation</a><a class="mb-[8px] flex w-[50%] text-sm" target="_blank" href="https://security.chainguard.dev/">Trust Center</a></div><div class="mt-[32px] flex w-full flex-wrap"><h2 class="mb-[8px] flex w-full text-[16px] font-bold">Company</h2><a class="mb-[8px] flex w-[50%] text-sm" href="/about-us">About Us</a><a class="mb-[8px] flex w-[50%] text-sm" href="/unchained">Blog</a><a class="mb-[8px] flex w-[50%] text-sm" href="/partners">Partners</a><a class="mb-[8px] flex w-[50%] text-sm" href="/newsroom">Newsroom</a><a class="mb-[8px] flex w-[50%] text-sm" href="/careers">Careers</a><a class="mb-[8px] flex w-[50%] text-sm" href="/legal/acceptable-use-policy">Legal</a></div></div><div class="mt-[30px] flex w-full justify-center border-t-[1px] border-solid border-[#D8D5E0] pt-[30px]"><div class="flex w-full max-w-[260px] flex-wrap items-start justify-center"><div class="logo-container flex max-w-[156px] items-center md:max-w-[260px]"><a href="/"><div class="flex"><div class="mr-0 flex larger:mr-[4px]"><svg xmlns="http://www.w3.org/2000/svg" width="29" height="26" viewBox="0 0 29 26" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M23.141 15.9955C23.3628 15.2024 23.4834 14.3332 23.4834 13.3879C23.4834 7.4751 18.7667 0.819916 14.056 0.819916C9.34521 0.819916 4.62852 7.4751 4.62852 13.3879C4.62852 14.6771 4.85275 15.8245 5.25225 16.8308L2.42059 16.6657C1.26726 16.5985 0.2047 17.4509 0.384583 18.6338C0.454351 19.0926 0.587314 19.5621 0.824777 19.9678C0.0231448 20.5523 -0.304315 21.6269 0.345227 22.4691C0.997283 23.3145 1.95468 24.0936 3.26884 24.0936C4.69423 24.0936 5.55207 23.7117 6.07304 23.2321C6.11107 23.4416 6.18951 23.6478 6.31334 23.8427C6.9531 24.8495 8.01264 25.9564 9.57907 25.9564C12.2437 25.9564 12.5409 24.2214 12.6901 23.3507C12.7017 23.2826 12.7125 23.2198 12.7234 23.1635L14.5041 22.2403L16.2848 23.1635C16.2957 23.2198 16.3065 23.2825 16.3181 23.3506L16.3182 23.3507C16.4673 24.2214 16.7645 25.9564 19.4291 25.9564C20.9956 25.9564 22.0551 24.8495 22.6949 23.8427C22.72 23.8031 22.7433 23.763 22.7648 23.7225C23.2667 23.9475 23.9313 24.0936 24.8129 24.0936C26.1271 24.0936 27.0845 23.3145 27.7366 22.4691C28.5352 21.4336 27.8568 20.0468 26.6361 19.6514L26.2327 19.5207C27.4172 18.8844 27.5915 17.6842 27.4646 16.6325C27.3213 15.4442 26.0725 14.9305 24.9824 15.3266L23.141 15.9955ZM14.5058 22.2231C14.5047 22.2232 14.5037 22.2232 14.5026 22.2232L14.5041 22.2241L14.5058 22.2231Z" fill="#14003D" class="fill-[#14003D] dark:fill-white"></path></svg></div></div></a></div><div class="copyright mt-[8px] flex flex-wrap justify-center md:mt-[16px]"><p class="text-center text-xs larger:text-left">©2025 Chainguard. All Rights Reserved.</p><div class="mt-[5px] flex"><div class="flex divide-x divide-primary-dark-purple dark:divide-primary-white"><a class="mr-[2px] inline-block flex pr-[4px] text-xs" href="/legal/privacy-notice">Privacy Policy</a><a class="flex px-[6px] text-xs" href="/legal/terms-of-use">Terms of Use</a></div><div class="flex"><button type="button" id="hs_show_banner_button" class="hidden border-l-[1px] border-solid border-primary-dark-purple pl-[6px] text-xs dark:border-white"><span>Manage Cookies</span></button></div></div></div><div class="mt-[24px] w-full"><div class="switch-content flex items-center justify-center gap-[6px] font-sans text-sm undefined"><span>Light</span><label class="switch" for="themeswitch-des"><input type="checkbox" disabled="" id="themeswitch-des"/><span class="slider round !bg-[#3443F4]"></span></label><span>Dark</span></div></div><div class="social-icons my-[24px] flex items-center gap-[10px]"><a target="_blank" aria-label="Visit our X profile" href="https://x.com/chainguard_dev"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><mask id="mask0_560_16939" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24"><path d="M17.632 0.547699H5.568C2.49288 0.547699 0 3.04859 0 6.1336V18.2364C0 21.3214 2.49288 23.8223 5.568 23.8223H17.632C20.7071 23.8223 23.2 21.3214 23.2 18.2364V6.1336C23.2 3.04859 20.7071 0.547699 17.632 0.547699Z" fill="white" class="fill-white dark:fill-[#14003D]"></path></mask><g mask="url(#mask0_560_16939)"><path d="M23.2 4.12826V20.2492C23.199 21.1972 22.8229 22.106 22.1544 22.776C21.4859 23.4459 20.5796 23.8223 19.6346 23.8223H3.56538C2.62042 23.8223 1.71412 23.4459 1.04559 22.776C0.377057 22.106 0.000985747 21.1972 1.9325e-06 20.2492V4.12826C-0.00048586 3.65823 0.0913754 3.19271 0.270334 2.75832C0.449292 2.32393 0.711839 1.92918 1.04296 1.59665C1.37409 1.26411 1.7673 1.00031 2.20011 0.820325C2.63292 0.64034 3.09685 0.547699 3.56538 0.547699L19.6346 0.547699C20.1032 0.547699 20.5671 0.64034 20.9999 0.820325C21.4327 1.00031 21.8259 1.26411 22.157 1.59665C22.4882 1.92918 22.7507 2.32393 22.9297 2.75832C23.1086 3.19271 23.2005 3.65823 23.2 4.12826Z" fill="#14003D" class="fill-[#14003D] dark:fill-white"></path><path d="M12.9469 11.4018L12.4476 10.6765L9.1811 5.92856H5.625L10.4562 13.0198L10.9545 13.7506L14.1635 18.4614H17.7939L12.9469 11.4018ZM11.49 13.1204L10.9925 12.3895L7.12836 6.71802H8.76629L11.9215 11.3003L12.4207 12.0265L16.2961 17.6626H14.5895L11.49 13.1204Z" fill="white" class="fill-white dark:fill-[#14003D]"></path><path d="M10.7773 12.3836L11.2747 13.1145L10.7438 13.741L6.75345 18.4518H5.625L10.2455 13.0102L10.7773 12.3836Z" fill="white" class="fill-white dark:fill-[#14003D]"></path><path d="M17.5451 5.92856L12.9051 11.4046L12.3743 12.0302L11.875 11.3041L12.4058 10.6785L16.4398 5.93043L17.5451 5.92856Z" fill="white" class="fill-white dark:fill-[#14003D]"></path></g></svg></a><a target="_blank" aria-label="Visit our LinkedIn profile" href="https://www.linkedin.com/company/chainguard-dev/"><div class="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none"><path d="M6.93866 0.54776H18.0816C19.6971 0.548746 21.2462 1.18917 22.3888 2.32844C23.5314 3.46772 24.174 5.01275 24.1758 6.62429V17.7458C24.174 19.3574 23.5314 20.9024 22.3888 22.0417C21.2462 23.1809 19.6971 23.8214 18.0816 23.8223H6.93866C5.32319 23.8214 3.77407 23.1809 2.6315 22.0417C1.48892 20.9024 0.846243 19.3574 0.844513 17.7458V6.62429C0.846243 5.01275 1.48892 3.46772 2.6315 2.32844C3.77407 1.18917 5.32319 0.548746 6.93866 0.54776Z" fill="#14003D" class="fill-[#14003D] dark:fill-white"></path><path d="M5.21951 9.74698H8.28983V19.8509H5.21951V9.74698Z" fill="white" class="fill-white dark:fill-[#14003D]"></path><path d="M10.2475 12.8723C10.2475 11.81 10.2475 10.5197 10.2195 9.58685H13.1966C13.267 10.0764 13.3075 10.5698 13.318 11.0643C13.7659 10.1985 14.7178 9.28799 16.9669 9.28799C19.4307 9.28799 20.2239 11.0569 20.2239 14.239V19.8426H17.1536V14.5918C17.1536 13.051 16.5376 11.9618 15.539 11.9618C13.8125 11.9618 13.3086 13.065 13.3086 15.3506V19.8426H10.2382V12.8723H10.2475Z" class="fill-white dark:fill-[#14003D]"></path><path d="M6.38628 8.09361C6.74022 8.09325 7.08614 7.9882 7.38025 7.79177C7.67436 7.59534 7.90353 7.31635 8.03872 6.99003C8.17391 6.66372 8.20905 6.30473 8.13977 5.95848C8.07049 5.61222 7.89985 5.29425 7.64945 5.04471C7.39904 4.79517 7.08011 4.6253 6.73294 4.55655C6.38578 4.4878 6.02595 4.52326 5.69899 4.65846C5.37202 4.79366 5.09267 5.02255 4.89606 5.31615C4.69946 5.60976 4.59451 5.95491 4.59451 6.30799C4.59464 6.54261 4.6411 6.77489 4.73122 6.9916C4.82133 7.2083 4.95331 7.40518 5.11969 7.57099C5.28608 7.7368 5.48359 7.86831 5.70092 7.95798C5.91825 8.04765 6.15109 8.09374 6.38628 8.09361Z" class="fill-white dark:fill-[#14003D]"></path></svg></div></a><a target="_blank" aria-label="Visit our YouTube channel" href="https://www.youtube.com/@chainguard"><div class="YouTube"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="22" viewBox="0 0 32 22" fill="none"><g clip-path="url(#clip0_560_16954)"><path d="M30.939 3.76117C30.765 3.10659 30.4251 2.51003 29.9533 2.03124C29.4815 1.55244 28.8944 1.20823 28.2508 1.03307C25.8804 0.387922 16.3768 0.387924 16.3768 0.387924C16.3768 0.387924 6.87064 0.387922 4.50282 1.03307C3.85919 1.20823 3.27207 1.55244 2.80028 2.03124C2.32848 2.51003 1.98856 3.10659 1.81459 3.76117C0.967769 8.67513 0.967769 13.7016 1.81459 18.6156C1.98856 19.2701 2.32848 19.8667 2.80028 20.3455C3.27207 20.8243 3.85919 21.1685 4.50282 21.3437C6.87325 21.9888 16.3768 21.9888 16.3768 21.9888C16.3768 21.9888 25.883 21.9888 28.2508 21.3437C28.8944 21.1685 29.4815 20.8243 29.9533 20.3455C30.4251 19.8667 30.765 19.2701 30.939 18.6156C31.7858 13.7016 31.7858 8.67513 30.939 3.76117ZM13.3341 15.8155V6.55948L21.232 11.1884L13.3341 15.8155Z" fill="#14003D" class="fill-[#14003D] dark:fill-white"></path></g><defs><clipPath id="clip0_560_16954"><rect width="30.4" height="21.6" fill="white" transform="translate(0.820099 0.384995)"></rect></clipPath></defs></svg></div></a><a target="_blank" aria-label="Visit our GitHub profile" href="https://github.com/chainguard-dev"><div class="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none"><g clip-path="url(#clip0_560_16956)"><path d="M20.9876 0.584808H4.11487C3.27582 0.584808 2.47114 0.918119 1.87784 1.51142C1.28454 2.10471 0.951233 2.9094 0.951233 3.74844L0.951233 20.6212C0.951233 21.4602 1.28454 22.2649 1.87784 22.8582C2.47114 23.4515 3.27582 23.7848 4.11487 23.7848H20.9876C21.8266 23.7848 22.6313 23.4515 23.2246 22.8582C23.8179 22.2649 24.1512 21.4602 24.1512 20.6212V3.74844C24.1512 2.9094 23.8179 2.10471 23.2246 1.51142C22.6313 0.918119 21.8266 0.584808 20.9876 0.584808ZM14.8251 19.1119C14.4534 19.183 14.3268 18.9589 14.3268 18.7731C14.3268 18.5411 14.3361 17.7752 14.3361 16.8222C14.3361 16.1539 14.1001 15.7175 13.847 15.504C15.4591 15.3287 17.1543 14.7263 17.1543 11.9897C17.165 11.2793 16.8983 10.5927 16.4109 10.0757C16.4834 9.89513 16.7286 9.17013 16.3384 8.1894C16.3384 8.1894 15.732 7.99826 14.3611 8.91967C13.1739 8.59979 11.9233 8.59979 10.7361 8.91967C9.34937 7.99694 8.74169 8.1894 8.74169 8.1894C8.34623 9.17276 8.59669 9.89776 8.67182 10.0757C8.18321 10.5911 7.91545 11.277 7.92573 11.9871C7.92573 14.7157 9.61828 15.3287 11.2212 15.5066C10.9583 15.7586 10.7954 16.0971 10.7625 16.4597C10.3472 16.6416 9.29664 16.9566 8.65337 15.8678C8.65337 15.8678 8.2711 15.1824 7.54346 15.1336C7.54346 15.1336 6.8356 15.1244 7.49205 15.5659C7.49205 15.5659 7.96923 15.7861 8.29878 16.6073C8.29878 16.6073 8.72455 17.9927 10.7414 17.5643C10.7414 18.1575 10.7493 18.6057 10.7493 18.7757C10.7493 18.9458 10.6175 19.1844 10.255 19.1171C7.37869 18.1786 5.30123 15.5093 5.30123 12.3614C5.30123 8.42667 8.54528 5.24326 12.5512 5.24326C16.5572 5.24326 19.8012 8.43326 19.8012 12.368C19.8012 15.504 17.7264 18.1759 14.8251 19.1119Z" fill="#14003D" class="fill-[#14003D] dark:fill-white"></path></g><defs><clipPath id="clip0_560_16956"><rect width="23.2" height="23.2" fill="white" transform="translate(0.864532 0.584991)"></rect></clipPath></defs></svg></div></a></div></div></div></footer></div></div><div id="outer-modal"></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blogData":{"__typename":"Blog","sys":{"id":"1ClESyZgBWVbumq3S9om2z"},"title":"Move over, Dockerfiles! The new way to craft containers","slug":"/unchained/move-over-dockerfiles-the-new-way-to-craft-containers","authors":"Jason Hall, Software Engineer and Zachary Newman, Principal Research Scientist","category":"Engineering","datePublished":"2023-04-27T00:00:00.000Z","content":{"__typename":"BlogContent","json":{"nodeType":"document","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Docker has become an immensely popular tool in the world of software development, and for good reason. It provides an excellent way to create, manage, and deploy containers, which in turn enables developers to run applications that work the same way in development and production. However, creating Docker images can sometimes be a pain, as anybody who has accidentally broken the apt cache and triggered an hours-long build by making a minor change can tell you.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"The standard, Dockerfile approach to creating container images can cause:","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Security concerns. Dockerfiles make it hard to know what’s in a package. This often results in low-quality Software Bills of Materials (SBOMs). Build commands in Dockerfiles end up as metadata in the resulting image, which can leak secrets, as recently noted in this ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://blog.aquasec.com/250m-artifacts-exposed-via-misconfigured-registries"},"content":[{"nodeType":"text","value":"Aqua Security report","marks":[],"data":{}}]},{"nodeType":"text","value":". Running Docker is a privileged operation, which risks attacks on your build infrastructure.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Performance issues. Dockerfiles might take a long time to build, and don’t effectively use caches by default.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Bloated containers. Dockerfile containers can have extra files, which consume bandwidth and storage, and (worse) might introduce security vulnerabilities.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Exposed build services. Common Dockerfile build patterns require internet access, meaning that build infrastructure heavily favors an online environment and non-hermetic builds.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"In this blog post, we'll:","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Explore some issues with Dockerfiles.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Look at some alternatives for crafting containers, like ko, Bazel, Nix, and apko, and see their strengths and weaknesses.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"See what these techniques have in common, and how you might choose and migrate to one that meets your needs.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"heading-2","data":{},"content":[{"nodeType":"text","value":"The Issue with Dockerfiles","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"A Dockerfile is effectively a shell script that runs to set up a container image. Consider this example, adapted from the ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/docker-library/buildpack-deps"},"content":[{"nodeType":"text","value":"Docker Library buildpack-deps image","marks":[],"data":{}}]},{"nodeType":"text","value":":","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"embedded-entry-block","data":{"target":{"sys":{"id":"2r6jkewaPu6EWPnINqzTUa","type":"Link","linkType":"Entry"}}},"content":[]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"This is easy to write, but hard to reason about. For instance, the ","marks":[],"data":{}},{"nodeType":"text","value":"apt-get install","marks":[{"type":"code"}],"data":{}},{"nodeType":"text","value":" line needs to chain several commands together to follow the Dockerfile best practices and avoid leaving extra files in the final image.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Dockerfiles have a few well-known issues that can make them a less-than-ideal solution for crafting containers:","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"heading-3","data":{},"content":[{"nodeType":"text","value":"Non-hermetic","marks":[{"type":"bold"}],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"A ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://bazel.build/basics/hermeticity"},"content":[{"nodeType":"text","value":"hermetic build","marks":[],"data":{}}]},{"nodeType":"text","value":" declares its inputs explicitly, which allows pre-fetching of inputs and builds that can run offline. Dockerfiles often contain implicit dependencies, because they fetch dependencies online at build time (without explicitly pinning an exact file hash). The internet changes constantly, as new packages are published or servers have outages. In our example, the exact packages installed will depend on the state of the Ubuntu package repository at the time the Docker build occurs.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Dockerfile builds ","marks":[],"data":{}},{"nodeType":"text","value":"can","marks":[{"type":"italic"}],"data":{}},{"nodeType":"text","value":" be made hermetic with a disciplined approach, but you'll always be fighting to detect and fix reproducibility regressions because that's not what the tool or Dockerfile spec wants to do; even the recommended “","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://docs.docker.com/develop/develop-images/dockerfile_best-practices/"},"content":[{"nodeType":"text","value":"best practices","marks":[],"data":{}}]},{"nodeType":"text","value":"” have hermeticity problems.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Ultimately, without hermeticity, a Docker image can’t be reproducible (which has problems for caching as well as verifiability). Further, builds will need to happen online—increasing the risk to the build infrastructure.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"heading-3","data":{},"content":[{"nodeType":"text","value":"What’s in your image?","marks":[{"type":"bold"}],"data":{}},{"nodeType":"text","value":" ","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Dockerfiles usually start with a base image, like Ubuntu, which comes with a lot of software. This may lead to hundreds of ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://chainguard.dev/blog-static/chainguard-all-about-that-base-image.pdf"},"content":[{"nodeType":"text","value":"vulnerabilities in your final image","marks":[],"data":{}}]},{"nodeType":"text","value":" due to software you don’t even care about. In many cases, these vulnerabilities are not exploitable, but it only takes one—and manually checking each can be a pain.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Further, Dockerfile builds can lead to ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://www.chainguard.dev/unchained/software-dark-matter-is-the-enemy-of-software-transparency"},"content":[{"nodeType":"text","value":"software dark matter","marks":[],"data":{}}]},{"nodeType":"text","value":", which are files with an unexplained source (for instance, those that don’t come from a package manager). These can be confusing to Software Composition Analysis (SCA) tools like ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/anchore/grype"},"content":[{"nodeType":"text","value":"grype","marks":[],"data":{}}]},{"nodeType":"text","value":", ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/snyk/cli"},"content":[{"nodeType":"text","value":"snyk","marks":[],"data":{}}]},{"nodeType":"text","value":", and ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/aquasecurity/trivy"},"content":[{"nodeType":"text","value":"trivy","marks":[],"data":{}}]},{"nodeType":"text","value":". In addition to vulnerabilities, these extra files can cause bloat, leading to larger image sizes and extra bandwidth and storage costs. Dockerfile-based builds can generate Software Bills of Materials (SBOMs), but these SBOMs miss many dependencies, even though ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://www.chainguard.dev/unchained/make-sboms-not-guessboms-why-we-need-to-shift-left-on-sbom-generation"},"content":[{"nodeType":"text","value":"more information about the package is available at build-time","marks":[],"data":{}}]},{"nodeType":"text","value":" than any point later on. Docker build tooling does ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://docs.docker.com/build/attestations/"},"content":[{"nodeType":"text","value":"support creating build provenance attestations","marks":[],"data":{}}]},{"nodeType":"text","value":", which can play a useful role in a ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://www.chainguard.dev/unchained/the-role-of-attestations-in-a-secure-software-supply-chain"},"content":[{"nodeType":"text","value":"secure software supply chain","marks":[],"data":{}}]},{"nodeType":"text","value":".","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Even ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://docs.docker.com/build/building/multi-stage/"},"content":[{"nodeType":"text","value":"Multistage Dockerfiles","marks":[],"data":{}}]},{"nodeType":"text","value":", which can prevent build dependencies from ending up in the final image, have many of these same issues.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"heading-2","data":{},"content":[{"nodeType":"text","value":"Alternatives to Dockerfiles","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"heading-3","data":{},"content":[{"nodeType":"text","value":"ko","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/ko-build/ko"},"content":[{"nodeType":"text","value":"ko","marks":[],"data":{}}]},{"nodeType":"text","value":" is a CNCF project designed specifically for Go applications. To compile a Go app and place it directly into a container, a user simply runs ko build—in many cases, no configuration is required! This tool doesn't depend on Docker, which makes it faster, more reliable, and portable. It also produces reproducible images with Software Bills of Materials (SBOMs) by default and results in very minimal images.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"When ko works for your application, it’s an incredible tool. But it only works for pure-Go applications; if your container needs another service, strange libraries, or CGO, you might be out of luck. There are ko-like projects for Java (","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/GoogleContainerTools/jib"},"content":[{"nodeType":"text","value":"Jib","marks":[],"data":{}}]},{"nodeType":"text","value":") and .NET (","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://learn.microsoft.com/en-us/dotnet/core/docker/publish-as-container"},"content":[{"nodeType":"text","value":"dotnet publish","marks":[],"data":{}}]},{"nodeType":"text","value":") as well, which share the same strengths and limitations.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"heading-3","data":{},"content":[{"nodeType":"text","value":"Bazel rules_oci","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/bazel-contrib/rules_oci"},"content":[{"nodeType":"text","value":"rules_oci","marks":[],"data":{}}]},{"nodeType":"text","value":" (like its predecessor, ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/bazelbuild/rules_docker"},"content":[{"nodeType":"text","value":"rules_docker","marks":[],"data":{}}]},{"nodeType":"text","value":", created by Chainguard CTO Matt Moore) leverages Bazel, an open-source universal build tool. Users define their container image in a Bazel rule:","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"embedded-entry-block","data":{"target":{"sys":{"id":"5azjcAwyzQI4SZ07nnyDWA","type":"Link","linkType":"Entry"}}},"content":[]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"If your application already builds in Bazel, it’s easy to pull the targets into the ultimate Docker image and configure it to run. And because it uses Bazel, it's fast (with good caching), reproducible, and can run across a large build cluster.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"However, “If your application already builds in Bazel” is a big ask. While Bazel supports many programming languages with first-party integrations, and extensions allow it to use any language, Bazel can be a pain to run. It can work really well in enormous, really complex monorepos (like inside Google, where Bazel came from). But “partly-Bazel” codebases are difficult to manage, and the complexity of setting it up (especially when integrating with external software) can be overwhelming.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"heading-3","data":{},"content":[{"nodeType":"text","value":"Nix","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Nix is a build tool that emphasizes reproducibility. It's based on academic theory, as described in Eelco Dolstra's ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://edolstra.github.io/pubs/phd-thesis.pdf"},"content":[{"nodeType":"text","value":"PhD thesis","marks":[],"data":{}}]},{"nodeType":"text","value":". Nix’s ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://nix.dev/tutorials/building-and-running-docker-images"},"content":[{"nodeType":"text","value":"dockerTools","marks":[],"data":{}}]},{"nodeType":"text","value":" library provides excellent support for building Docker images:","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"embedded-entry-block","data":{"target":{"sys":{"id":"6zayVvy8ZEgS38etsP41Az","type":"Link","linkType":"Entry"}}},"content":[]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Nix builds images using the Nix cache, ensuring that only runtime dependencies end up in the final image. The final image will always be bit-for-bit reproducible. If you have multiple related images, they can even share layers, reducing disk usage.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"A related approach eschews dockerTools, instead running Nix itself inside of Docker to build the container image. This has some similar properties, but users use ","marks":[],"data":{}},{"nodeType":"text","value":"docker build","marks":[{"type":"code"}],"data":{}},{"nodeType":"text","value":" instead of ","marks":[],"data":{}},{"nodeType":"text","value":"nix","marks":[{"type":"code"}],"data":{}},{"nodeType":"text","value":" to build the image. Unfortunately, the final image is no longer reproducible when using this technique.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"The primary downside to Nix is its steep learning curve and high cost of adoption. Docker builds in Nix are written using the Nix programming language. The Nix language is a full-blown programming language, not just a configuration format like YAML. Nix is lazy and functional, which can be confusing for anybody who doesn’t write Haskell on a daily basis. Nix can be pedantic: it differentiates between build-time tools producing build-time artifacts, build-time tools producing run-time artifacts, build-time tools producing run-time dependencies, and run-time dependencies themselves. Multiple attempts have been made to improve the learning curve with tools like ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://floxdev.com/"},"content":[{"nodeType":"text","value":"Flox","marks":[],"data":{}}]},{"nodeType":"text","value":" and ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://getfleek.dev/"},"content":[{"nodeType":"text","value":"Fleek","marks":[],"data":{}}]},{"nodeType":"text","value":", but none has caught on quite yet.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"heading-3","data":{},"content":[{"nodeType":"text","value":"apko","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/chainguard-dev/apko"},"content":[{"nodeType":"text","value":"apko","marks":[],"data":{}}]},{"nodeType":"text","value":" is a build tool from Chainguard designed specifically for creating base images. It's what we use to produce all of our ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://www.chainguard.dev/chainguard-images"},"content":[{"nodeType":"text","value":"Chainguard Images","marks":[],"data":{}}]},{"nodeType":"text","value":", and it's instrumental in being able to effectively maintain so many high-quality images. apko uses the ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://wiki.alpinelinux.org/wiki/Apk_spec"},"content":[{"nodeType":"text","value":"APK package format","marks":[],"data":{}}]},{"nodeType":"text","value":" used by Alpine Linux, and follows a radical principle: all of the contents of the container image must come from APK packages. In practice, this isn’t a big constraint, as tooling like ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/chainguard-dev/melange"},"content":[{"nodeType":"text","value":"melange","marks":[],"data":{}}]},{"nodeType":"text","value":" makes it easy to create APKs. ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://wolfi.dev/"},"content":[{"nodeType":"text","value":"Wolfi","marks":[],"data":{}}]},{"nodeType":"text","value":" uses melange to build the thousands of packages it provides. But limiting image creation to assembling packages and configuring Docker metadata comes with huge benefits:","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Building is lightning fast.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Images are reproducible.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Builds are more secure and don't require any privileges: they work by downloading packages over HTTPS and assembling images, not executing any other commands.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Images come with SBOMs that are complete.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Here’s a (lightly abridged) example of a configuration file for ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/chainguard-dev/apko/blob/889f9c1ed2f3e94736dafc58a3f42c26f4eaf659/examples/nginx.yaml"},"content":[{"nodeType":"text","value":"an Nginx image","marks":[],"data":{}}]},{"nodeType":"text","value":":","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"embedded-entry-block","data":{"target":{"sys":{"id":"h34UGeoaerWRXkLS6IjgU","type":"Link","linkType":"Entry"}}},"content":[]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"We can see that apko is much simpler than something like Bazel or Nix: there’s no new programming language, just YAML (and the ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/chainguard-dev/apko/blob/main/docs/apko_file.md"},"content":[{"nodeType":"text","value":"full description of the configuration format","marks":[],"data":{}}]},{"nodeType":"text","value":" runs about 250 lines). In cases where apko itself isn’t a good fit, it can be used to create base images to be used with any of the tools described above, ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://edu.chainguard.dev/open-source/wolfi/wolfi-with-dockerfiles/"},"content":[{"nodeType":"text","value":"even Dockerfile builds","marks":[],"data":{}}]},{"nodeType":"text","value":".","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"heading-2","data":{},"content":[{"nodeType":"text","value":"Conclusion","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Declarative approaches to building containers, such as those provided by the alternatives mentioned above, offer several advantages over traditional Dockerfiles. They're generally faster, provide better caching, and result in more minimal images. They do involve learning and installing new software, which is a real cost.","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"So what should you do? The following guidance is appropriate in most cases:","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"If you already use and love a build system like Bazel or Nix, use that ecosystem’s Docker tooling to get reproducible, hermetic builds.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"If your applications work with special-purpose tools like ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/ko-build/ko"},"content":[{"nodeType":"text","value":"ko","marks":[],"data":{}}]},{"nodeType":"text","value":", ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/GoogleContainerTools/jib"},"content":[{"nodeType":"text","value":"Jib","marks":[],"data":{}}]},{"nodeType":"text","value":", or ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://learn.microsoft.com/en-us/dotnet/core/docker/publish-as-container/"},"content":[{"nodeType":"text","value":"dotnet publish","marks":[],"data":{}}]},{"nodeType":"text","value":", use those.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"If you care about build speed, reproducibility, Software Bills of Materials (SBOMs) for your containers, and minimal images, consider ","marks":[],"data":{}},{"nodeType":"hyperlink","data":{"uri":"https://github.com/chainguard-dev/apko"},"content":[{"nodeType":"text","value":"apko","marks":[],"data":{}}]},{"nodeType":"text","value":".","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"","marks":[],"data":{}}]},{"nodeType":"unordered-list","data":{},"content":[{"nodeType":"list-item","data":{},"content":[{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"Otherwise, use Dockerfiles. Consider using base images that come from the above tools.","marks":[],"data":{}}]}]}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"‍","marks":[],"data":{}}]},{"nodeType":"paragraph","data":{},"content":[{"nodeType":"text","value":"As software development evolves, it's important to consider new and improved ways to craft containers that address the limitations of Dockerfiles. By exploring alternative tools like Ko, Bazel rules_docker, Nix, and Apko, you can create more efficient, reliable, and secure container images for your applications.","marks":[],"data":{}}]}]},"links":{"__typename":"BlogContentLinks","assets":{"__typename":"BlogContentAssets","hyperlink":[],"block":[]},"entries":{"__typename":"BlogContentEntries","inline":[],"hyperlink":[],"block":[{"sys":{"__typename":"Sys","id":"2r6jkewaPu6EWPnINqzTUa"},"__typename":"CodeBlock","language":"plaintext","code":"FROM ubuntu\nRUN set -eux;\n\tapt-get update;\n\tapt-get install -y --no-install-recommends \\\n\t\tca-certificates \\\n\t\tcurl \\\n\t; \\\n\trm -rf /var/lib/apt/lists/*\n\nCOPY . /app\nRUN make /app\nCMD python /app/app.py"},{"sys":{"__typename":"Sys","id":"5azjcAwyzQI4SZ07nnyDWA"},"__typename":"CodeBlock","language":"plaintext","code":"oci_image(\n    name = \"image\",\n    architecture = select({\n        \"@platforms//cpu:arm64\": \"arm64\",\n        \"@platforms//cpu:x86_64\": \"amd64\",\n    }),\n    base = \"@ubuntu\",\n    cmd = [\"app.bash\"],\n    os = \"linux\",\n    tars = [\":app.tar\"],\n)"},{"sys":{"__typename":"Sys","id":"6zayVvy8ZEgS38etsP41Az"},"__typename":"CodeBlock","language":"plaintext","code":"let\n  nginxConf = pkgs.writeText \"nginx.conf\" ''\n          daemon off;\n  '';\nin pkgs.dockerTools.buildImage {\n  contents = [ pkgs.nginx ];\n  config = {\n    Cmd = [ \"nginx\" \"-c\" nginxConf ];\n    ExposedPorts = {\n      \"8080/tcp\" = {};\n    };\n}"},{"sys":{"__typename":"Sys","id":"h34UGeoaerWRXkLS6IjgU"},"__typename":"CodeBlock","language":"plaintext","code":"contents:\n  packages:\n    - wolfi-baselayout\n    - nginx\n\nentrypoint:\n  type: service-bundle\n  services:\n    nginx: /usr/sbin/nginx -c /etc/nginx/nginx.conf\n\npaths:\n  - path: /etc/nginx/http.d/default.conf\n    type: hardlink\n    source: /usr/share/nginx/http-default_server.conf"}]}}},"seo":{"__typename":"SeoMetadata","sys":{"id":"1c08zvIUsJTwTiCqUH6b7w"},"pageTitle":"Move over, Dockerfiles! The new way to craft containers","metaDescription":"Creating Docker images can sometimes be a pain. Here are alternatives for crafting containers, like ko, Bazel, Nix, and apko, and their strengths and weaknesses","metaKeywords":["dockerfiles","chainguard images","vulnerability management"],"hide":false,"exclude":false,"openGraphImage":{"__typename":"Asset","sys":{"id":"1HRZvzz21dgG7p31sWBWl6"},"url":"https://images.ctfassets.net/l47ir7rfykkn/1HRZvzz21dgG7p31sWBWl6/8415ace0b67e3e44d8cabf8e409ba1cd/Blog_Main_Dark.png","width":2944,"height":1968,"description":"Image with text \"Chainguard\" and octopus logo on dark purple gradient background."}}},"relatedBlogsData":{"blogCollection":{"__typename":"BlogCollection","items":[{"__typename":"Blog","sys":{"id":"5qEylGxnvUDZg1yN5ZyBY1"},"title":"Guest Post: Resiliency by Design and the Importance of Internal Developer Platforms","slug":"/unchained/guest-post-resiliency-by-design-and-the-importance-of-internal-developer-platforms","category":"Engineering","datePublished":"2025-08-21T00:00:00.000Z","seo":{"openGraphImage":{"__typename":"Asset","sys":{"id":"Xi52tk8eXISPAtz1JNza8"},"url":"https://images.ctfassets.net/l47ir7rfykkn/Xi52tk8eXISPAtz1JNza8/62129743b0e4e3e1d622cbbe42ad6dc1/21__Resiliency_by_Design_and_the_Importance_of_Internal_Developer_Platforms.png","width":1840,"height":1230,"description":""}}},{"__typename":"Blog","sys":{"id":"4oTQX0S19w6qFJsYxKxAoy"},"title":"This Shit Is Hard: Hardening glibc","slug":"/unchained/this-shit-is-hard-hardening-glibc","category":"Engineering","datePublished":"2025-08-20T00:00:00.000Z","seo":{"openGraphImage":{"__typename":"Asset","sys":{"id":"1MyYrPbfDVxhWELty2PNM7"},"url":"https://images.ctfassets.net/l47ir7rfykkn/1MyYrPbfDVxhWELty2PNM7/d0f2138691a4b94b9648b708f9a39147/This_Shit_Is_Hard__Hardening_glibc.png","width":1840,"height":1230,"description":""}}},{"__typename":"Blog","sys":{"id":"5WxdiyhqMBtSEwkIv0msmH"},"title":"Announcing Kernel-Independent FIPS for Java","slug":"/unchained/announcing-kernel-independent-fips-for-java","category":"Engineering","datePublished":"2025-08-14T00:00:00.000Z","seo":{"openGraphImage":{"__typename":"Asset","sys":{"id":"2D7EBqGaW3lmP60ebhj5HK"},"url":"https://images.ctfassets.net/l47ir7rfykkn/2D7EBqGaW3lmP60ebhj5HK/c17425ffea16b7ef3211d31d11f16854/13__Kernel-Independent_FIPS_for_Java.png","width":1940,"height":1330,"description":""}}}]}},"ctaSectionData":{"__typename":"Section","sys":{"id":"3jfgUI9dx5ptfQGnDEoJR5"},"sectionBlocksCollection":{"items":[{"__typename":"LimitedContentCard","sys":{"id":"5mmiIE6t6k7k195scEV9v3"},"primaryText":"Ready to Lock Down Your Supply Chain?","secondaryText":"Talk to our customer obsessed, community-driven team.","cta":{"__typename":"Cta","sys":{"id":"5iAMsGTK29iEigAOUF2iUD"},"iconLight":null,"iconDark":null,"link":"/contact","openNewTab":false,"linkedText":"Talk to an expert","nonLinkedText":null}}]}},"blogDetailsData":{"mediaLightCollection":{"__typename":"AssetCollection","items":[{"__typename":"Asset","sys":{"id":"4zUGNIw6ybfiK7J8AAcAH3"},"url":"https://images.ctfassets.net/l47ir7rfykkn/4zUGNIw6ybfiK7J8AAcAH3/ab8b2e29f70188652afb79b2c8bf929e/linkedin-logo.svg","width":24,"height":24,"description":"An image of the LinkedIn logo."},{"__typename":"Asset","sys":{"id":"4H4QGjGRIcbSr6iWB7SDZ6"},"url":"https://images.ctfassets.net/l47ir7rfykkn/4H4QGjGRIcbSr6iWB7SDZ6/e17d172ce9dcc60895e530c7c75eca79/twitter_logo_light.svg","width":21,"height":20,"description":"An image of the Twitter, now X, logo."}]},"mediaDarkCollection":{"__typename":"AssetCollection","items":[{"__typename":"Asset","sys":{"id":"4zUGNIw6ybfiK7J8AAcAH3"},"url":"https://images.ctfassets.net/l47ir7rfykkn/4zUGNIw6ybfiK7J8AAcAH3/ab8b2e29f70188652afb79b2c8bf929e/linkedin-logo.svg","width":24,"height":24,"description":"An image of the LinkedIn logo."},{"__typename":"Asset","sys":{"id":"5vFAiFG3ftmXvuAMTFUoSY"},"url":"https://images.ctfassets.net/l47ir7rfykkn/5vFAiFG3ftmXvuAMTFUoSY/3725282ce81026bcef74d6efd5a75844/twitter_logo_dark.svg","width":21,"height":20,"description":"An image of the Twitter, now X, logo."}]}},"preview":false},"__N_SSG":true},"page":"/unchained/[slug]","query":{"slug":"move-over-dockerfiles-the-new-way-to-craft-containers"},"buildId":"2MPQcdTEl5LZKs4rMvHtg","isFallback":false,"gsp":true,"locale":"en-US","locales":["en-US","fr-FR","de-DE"],"defaultLocale":"en-US","scriptLoader":[{"id":"google-tag-manager","strategy":"afterInteractive","dangerouslySetInnerHTML":{"__html":"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n\t\t\t\t\t\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n\t\t\t\t\t\tj=d.createElement(s),dl=l!='dataLayer'?'\u0026l='+l:'';j.async=true;j.src=\n\t\t\t\t\t\t'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n\t\t\t\t\t\t})(window,document,'script','dataLayer','GTM-58WV5RN')"}}]}</script></body></html>